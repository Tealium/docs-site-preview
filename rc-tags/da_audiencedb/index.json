
{
    "kind": "term",
    "name": "da_audiencedb",
    "count": 2,
    "items": [

    
        {
            "weight": "400",
            "url": "https://docs-preview.tealium.com/server-side/data-storage/audiencedb-and-eventdb/",
            "title": "AudienceDB and EventDB",
            "body":"<h2 id=\"how-it-works\">How it works</h2><p>AudienceDB and EventDB services are used to store structured audience and event data in a Postgres-like database (Amazon Redshift). From Amazon Redshift, you can then query and analyze the data directly using your preferred SQL client or Business Intelligence (BI) tool.</p><h3 id=\"prerequisites\">Prerequisites</h3><p>AudienceDB and EventDB must be activated for your account. For additional information, contact your account manager.</p><h3 id=\"tables-views-and-normalized-views\">Tables, views and normalized views</h3><p>When a service is activated, a database is created in Amazon Redshift to store your data. The columns in the tables are named according to the attribute type and the internal attribute ID. For example, if you have a badge attribute with an internal ID of &ldquo;30&rdquo;, the table will contain a column named <code>badge_30</code>. Views and normalized views of data are created to make it easier to write queries. The normalized view is similar to the view but with the attribute ID omitted from the field name.</p><ul><li><strong>Tables</strong><br>Standard tables have columns named after the attribute type and the attribute ID.<br>Example: <code>badge_30</code></li><li><strong>Views</strong><br>Table names appended with <code>_view</code> have user-friendly column names with attribute IDs.<br>Example: <code>visitor - badge - fan (30)</code></li><li><strong>Normalized views</strong><br>Table names appended with <code>_view_normalized</code> have user-friendly column names without the attribute IDs.<br>Example: <code>visitor - badge - fan</code></li></ul><p>The views also simplify the process of running queries with aggregations such as <code>SUM()</code> , <code>MIN()</code>, and <code>MAX()</code>.</p><h3 id=\"visitvisitor-data\">Visit/Visitor data</h3><p>Visit and visitor attributes are stored in database table columns according to their attribute type and name. Each table is keyed using a <code>visit_id</code> or <code>visitor_id</code>. Database views are created for each table to make it easier to write queries.</p><h3 id=\"audiencedb-tables\">AudienceDB tables</h3><p>The following tables are available for visit and visitor data:</p><ul><li>Visit/Session Data: <code>visits</code></li><li>Visitor Data: <code>visitors</code></li></ul><p>In addition, the following tables exist for special attribute types:</p><ul><li>Arrays: <code>visit_arrays</code>, <code>visitor_arrays</code></li><li>Set of Strings: <code>visit_lists</code>, <code>visitor_lists</code></li><li>Tally: <code>visit_tallies</code>, <code>visitor_tallies</code></li></ul><p>For detailed information, see the <a href=\"/server-side/data-storage/audiencedb-data-guide/\">AudienceDB data guide</a>.</p><h3 id=\"event-data\">Event data</h3><p>For tables containing event data, event data includes event attributes for all events in the event feed. Table columns are named according to the attribute type and name, with only some attributes referencing internal ID&rsquo;s. Standard Universal Data Object (UDO) variables are named with a <code>udo_</code> prefix and most column names match their corresponding attribute names, for example: <code>udo_event_name</code>.</p><p class=\"note\"><i class=\"fas fa-info-circle\"></i>Event data coming from the Tealium collect tag also includes information about which tags executed on the page and page performance metrics.</p><p>For additional information, see <a href=\"/server-side/live-events-feeds/\">Live Events and Feeds</a>.</p><h3 id=\"eventdb-tables\">EventDB tables</h3><p>The following tables are available for event data:</p><ul><li>Event Feed Data: <code>events_{FEED}</code></li></ul><h3 id=\"writing-sql-queries\">Writing SQL queries</h3><p>The following articles provide best practices and examples of useful queries:</p><ul><li><a href=\"/server-side/data-storage/data-viz-tools/using-sql-workbench/\">Connecting to EventDB and AudienceDB with SQL Workbench/J</a></li><li><a href=\"https://support.tealiumiq.com/en/support/solutions/articles/36000363364-best-practices-for-writing-queries-for-eventdb-and-audiencedb/preview\">Best Practices for Writing Queries for EventDB and AudienceDB</a></li><li><a href=\"https://support.tealiumiq.com/en/support/solutions/articles/36000363427-helpful-sql-queries-for-eventdb-and-audiencedb\">Helpful SQL Queries for EventDB and AudienceDB</a></li></ul><h2 id=\"enable-data-storage\">Enable data storage</h2><ul><li><strong>Attributes</strong><br>Data storage is controlled at the attribute level. Event attributes and visit/visitor attributes have a checkbox that determines if it will be stored in the database. Simply edit the attribute and toggle the checkbox on or off to include or omit the attribute from the database.<br>For additional information, see <a href=\"/server-side/attributes/about/\">Using Attributes</a>.</li><li><strong>Audiences</strong><br>All audiences are stored in AudienceDB.</li><li><strong>Event feeds</strong><br>Event feeds must be configured for the data to be stored in EventDB.<br><img src=\"https://community.tealiumiq.com/t5/image/serverpage/image-id/11132i4AB7588B2434F2EB/image-size/large?v=v2&amp;amp;px=999\"          alt=\"feeds event storage slider\"         title=\"feeds event storage slider\"/><br>EventDB also collects preloaded attributes. Although preloaded attributes cannot be edited from the <strong>Attributes</strong> screen, you can adjust the preloaded attributes that are stored in EventDB using the <strong>DataAccess Console</strong>.</li></ul><p class=\"tip\"><i class=\"fas fa-star\"></i>It is recommended to only enable EventDB for the specific event feeds that you need since the amount of data can become quite large depending on your volume. For additional information, see <a href=\"/server-side/live-events-feeds/about-event-feeds/\">Live Events and Feeds</a>.</p><h3 id=\"adjust-preloaded-eventdb-attributes\">Adjust preloaded EventDB attributes</h3><p>To adjust which preloaded attributes are stored in EventDB:</p><ol><li><p>Go to <strong>DataAccess &gt; EventDB</strong>.</p></li><li><p>Click <strong>Show EventDB Attributes</strong>.</p></li><li><p>Select or deselect attributes to add or remove them from EventDB.<br>All all attributes are checked by default.<br><img src=\"https://community.tealiumiq.com/t5/image/serverpage/image-id/8416iFCFFFAC8C78B31D0/image-size/medium?v=v2&amp;amp;px=400\"          alt=\"DataAccess Working with AudienceDB and EventDB Adjusting Preloaded EventDB Attributes\"         title=\"DataAccess Working with AudienceDB and EventDB Adjusting Preloaded EventDB Attributes\"/></p>   <p class=\"note\"><i class=\"fas fa-info-circle\"></i>DOM attributes, such as URL, domain, referrer, and user agent are always sent and cannot be excluded.</p></li><li><p>Click <strong>Save</strong>.</p></li><li><p>Save and Publish your changes.</p></li></ol><h3 id=\"adjust-audiencedb-attributes\">Adjust AudienceDB attributes</h3><p>To adjust which visitor attributes are stored in AudienceDB:</p><ol><li>Go to <strong>DataAccess &gt; AudienceDB</strong>.</li><li>Click <strong>Show AudienceDB Attributes</strong>.</li><li>Select or deselect attributes to add or remove them from AudienceDB.<br><img src=\"https://community.tealiumiq.com/t5/image/serverpage/image-id/8417i63604EE33C81DDD8/image-size/medium?v=v2&amp;amp;px=400\"          alt=\"DataAccess Working with AudienceDB and EventDB Adjusting AudienceDB Attributes\"         title=\"DataAccess Working with AudienceDB and EventDB Adjusting AudienceDB Attributes\"/></li><li>Click <strong>Save</strong>.</li><li>Save and Publish your changes.</li></ol><h2 id=\"database-credentials\">Database credentials</h2><p>You must use a third-party tool with Postgres support to connect to your database. These tools require authentication credentials to connect, which are provided in the DataAccess Console.</p><p>Database Credentials are now generated for each user. Previously, credentials were generated for an account and profile and were shared by all users. If someone regenerated global credentials, all user connections were terminated, and all users had to reconnect.</p><p>For user-specific credentials, the generated credentials are based on the account, profile, and the user&rsquo;s email address. Users can regenerate their own credentials without terminating other connections. You can remove access for a specific user without terminating other connections. To deactivate a specific user&rsquo;s credentials, contact Tealium Support.</p><p class=\"note\"><i class=\"fas fa-info-circle\"></i>Previously generated global credentials can still be used, but cannot be regenerated.</p><h3 id=\"get-database-authentication-credentials\">Get database authentication credentials</h3><p>Use the following steps to get the database authentication credentials:</p><ol><li>In the sidebar, click <strong>DataAccess &gt; EventDB</strong> or <strong>DataAccess &gt; AudienceDB</strong>.</li><li>Click <strong>Get DB Connection Details</strong>.</li><li>Click <strong>Regenerate DB Credentials</strong>. You need to regenerate credentials even if this is your first time getting credentials.<br><img src=\"https://community.tealiumiq.com/t5/image/serverpage/image-id/12123i8FC4081C531BCF86/image-size/large?v=v2&amp;amp;px=999\"          alt=\"connection details\"         title=\"connection details\"/></li><li>Click <strong>Yes</strong> to confirm that you want to delete your existing credentials and generate new ones.<br>The <strong>DB Connection Details</strong> screen displays the following fields:<ul><li><strong>Username</strong><br>The username for the database connection, which is a combination of your account, profile names, and your email address. For example, <code>account__profile__email</code>.</li><li><strong>Password</strong><br>The password for the database connection.</li><li><strong>Database</strong><br>The name of the database, usually the name of your account.</li><li><strong>Host</strong><br>The host name of the database server, specific to your data storage region.</li><li><strong>Port</strong><br>The port number for the connection.</li></ul></li><li>Save the connection details for future use, then click <strong>Close</strong>.</li></ol>"
        }  

    , 
        {
            "weight": "700",
            "url": "https://docs-preview.tealium.com/server-side/data-storage/audiencedb-data-guide/",
            "title": "AudienceDB data guide",
            "body":"<h2 id=\"how-it-works\">How it works</h2><p>AudienceDB stores both visit-level and visitor-level data to a <a href=\"http://en.wikipedia.org/wiki/PostgreSQL\">Postgres</a>-like database (<a href=\"http://en.wikipedia.org/wiki/Amazon_Redshift\">Amazon Redshift</a>™) where you can query and analyze the data directly using your preferred SQL client or Business Intelligence (BI) tool.</p><p>When AudienceDB is activated, a database is created in Amazon Redshift™ to store your AudienceStream data. The new database contains a table for each data type that it can store. Data associated with visit-level data is stored in tables prefixed with <code>visit_</code>. Data associated with visitor-level data is stored in tables prefixed with <code>visitor_</code>. In addition to the tables, several views are also created to make it easier to write queries.</p><p>If you are new to AudienceDB, review the basics in <a href=\"/server-side/data-storage/audiencedb-and-eventdb/\">Working with AudienceDB and EventDB</a>.</p><h3 id=\"eventdb-and-audiencedb-diagram\">EventDB and AudienceDB diagram</h3><p>Event, visitor, and visit attributes work together in EventDB and AudienceDB. The following diagram illustrates the relationships between the EventDB and AudienceDB attributes. These relationships are important when writing queries that return event data for a specific visit or visitor.</p><figure><img src=\"https://community.tealiumiq.com/t5/image/serverpage/image-id/7080i24DE1119C544FEF7/image-size/large?v=v2&amp;amp;px=999\"         alt=\"EventDB and AudienceDB Diagram Update for TLC\"         title=\"EventDB and AudienceDB Diagram Update for TLC\"/></figure><h3 id=\"attributes-and-column-names\">Attributes and column names</h3><p>Each visit and visitor attribute that is enabled for AudienceDB will appear as a column in one or more of the database tables.</p><p>The following is a list of the attribute data types and the corresponding naming convention of the columns where &ldquo;###&rdquo; represents the attribute ID. The examples shown in the table indicate visitor attributes. Visit attributes use the word &ldquo;visit&rdquo; in place of &ldquo;visitor&rdquo;.</p><table><thead><tr><th>Attribute data type</th><th>Table column name</th></tr></thead><tbody><tr><td>Array</td><td><ul><li><strong>Table</strong>: <code>array_###</code></li><li><strong>View</strong>: <code>visitor array - array_name (###)</code></li><li><strong>Normalized</strong>: <code>visitor array - array_name</code></li></ul></td></tr><tr><td>Audience<br> Values <code>t</code> for true and <code>f</code> for false indicate the presence in audience.</td><td><ul><li><strong>Table</strong>: <code>audience_account_profile_###</code></li><li><strong>View</strong>: <code>visitor - audience - audience_name (account_profile_###)</code></li><li><strong>Normalized</strong>: <code>visitor - audience - audience_name</code></li></ul></td></tr><tr><td>Badge<br> Values <code>t</code> for true and <code>f</code> for false indicate presence of badge.</td><td><ul><li><strong>Table</strong>: <code>badge_###</code></li><li><strong>View</strong>: <code>visitor - badge - badge_name (###)</code></li><li><strong>Normalized</strong>: <code>visitor - badge - badge_name</code></li></ul></td></tr><tr><td>Boolean</td><td><ul><li><strong>Table</strong>: <code>flag_###</code></li><li><strong>View</strong>: <code>visitor - flag - boolean_name (###)</code></li><li><strong>Normalized</strong>: <code>visitor - flag - boolean_name</code></li></ul></td></tr><tr><td>Date</td><td><ul><li><strong>Table</strong>: <code>date_###</code></li></ul> <ul><li><strong>View</strong>: <code>visitor - date - date_name (###)</code></li><li><strong>Normalized</strong>: <code>visitor - date - date_name</code></li></ul></td></tr><tr><td>Number</td><td><ul><li><strong>Table</strong>: <code>metric_###</code></li><li><strong>View</strong>: <code>visitor - metric - metric_name (###)</code></li><li><strong>Normalized</strong>: <code>visitor - metric - metric_name</code></li></ul></td></tr><tr><td>Set of Strings</td><td><ul><li><strong>Table</strong>: <code>list_###</code></li><li><strong>View</strong>: <code>visitor list - set_name (###)</code></li><li><strong>Normalized</strong>: <code>visitor list - set_name</code></li></ul></td></tr><tr><td>String</td><td><ul><li><strong>Table</strong>: <code>property_###</code></li><li><strong>View</strong>: <code>visitor - property - property_name (###)</code></li><li><strong>Normalized</strong>: <code>visitor - property - property_name</code></li></ul></td></tr><tr><td>Tally</td><td><ul><li><strong>Table</strong>: <code>visitor_tally_###_key</code> <code>visitor_tally_###_value</code></li><li><strong>View</strong>: <code>visitor tally - tally_name (###) - key</code> &ldquo;visitor tally - tally_name (###) - value&rdquo;</li><li><strong>Normalized</strong>: <code>visitor tally - tally_name - key</code> &ldquo;visitor tally - tally_name - value&rdquo;</li></ul></td></tr></tbody></table><h3 id=\"audiencedb-tables\">AudienceDB tables</h3><p>The following table describes AudienceDB table types used for audience data and the name of the corresponding &ldquo;view&rdquo; and &ldquo;normalized&rdquo; tables:</p><table><thead><tr><th>Data type and description</th><th>Table/View/Normalized name</th></tr></thead><tbody><tr><td><strong>Arrays</strong><br> Each item in the array is a row in the table with an additional column named <code>index</code> for the zero-based array position.</td><td><code>visit_arrays</code><br> <code>visit_arrays_view</code><br> <code>visitor_arrays</code><br> <code>visitor_arrays_view</code><br> <code>visitor_arrays_view_normalized</code></td></tr><tr><td><strong>Set of Strings</strong><br> Each item in the set is a row in the table.</td><td><code>visit_lists</code><br> <code>visit_lists_view</code><br> <code>visitor_lists</code><br> <code>visitor_lists_view</code><br> <code>visitor_lists_view_normalized</code></td></tr><tr><td><strong>Tally</strong><br> Each item in the tally is a row in the table with one column for the key (suffix <code>_key</code>) and one column for the value (suffix <code>_value</code>).</td><td><code>visit_tallies</code><br> <code>visit_tallies_view</code><br> <code>visitor_tallies</code><br> <code>visitor_tallies_view</code><br> <code>visitor_tallies_view_normalized</code></td></tr><tr><td><strong>Stitched Visitors</strong><br> Visitor IDs that are stitched in the profile as part of <a href=\"/server-side/visitor-stitching/about/\">visitor stitching</a>.</td><td><code>visitor_replaces</code><br> <code>visitor_replaces_view</code></td></tr><tr><td><strong>Visits</strong><br> Current visit attributes and any audiences they belong to.</td><td><code>visits</code><br> <code>visits_view</code></td></tr><tr><td><strong>Visitors</strong><br> Visitor attributes and any audiences they belong to.</td><td><code>visitors</code><br> <code>visitors_view</code><br> <code>visitors_view_normalized</code></td></tr><tr><td><strong>Visitor Batches</strong></td><td>For internal use only</td></tr></tbody></table><h3 id=\"sample-database-structures\">Sample database structures</h3><p>The following sections provide sample structure examples for each view to assist in determining what is unique about each view and how the view differs from other views.</p><h4 id=\"visit-arrays\">Visit arrays</h4><p>The following example shows the the basic formatting for the <code>visit_arrays</code> table:</p><div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"><code class=\"language-sql\" data-lang=\"sql\"><span style=\"display:flex;\"><span> visit_id                          <span style=\"color:#f92672\">|</span> <span style=\"color:#66d9ef\">index</span> <span style=\"color:#f92672\">|</span> updated                 <span style=\"color:#f92672\">|</span> visit_array_421</span></span><span style=\"display:flex;\"><span> <span style=\"color:#75715e\">----------------------------------+--------------------------------------------------------------------------</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#75715e\"></span> <span style=\"color:#ae81ff\">13</span>e1a63890793caa346f90607a76c1c98 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">0</span>     <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2018</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">05</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">17</span> <span style=\"color:#ae81ff\">01</span>:<span style=\"color:#ae81ff\">03</span>:<span style=\"color:#ae81ff\">30</span>.<span style=\"color:#ae81ff\">344</span> <span style=\"color:#f92672\">|</span> Smartphone</span></span><span style=\"display:flex;\"><span> <span style=\"color:#ae81ff\">13</span>e1a63890793caa346f90607a76c1c98 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">1</span>     <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2018</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">05</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">17</span> <span style=\"color:#ae81ff\">01</span>:<span style=\"color:#ae81ff\">03</span>:<span style=\"color:#ae81ff\">30</span>.<span style=\"color:#ae81ff\">344</span> <span style=\"color:#f92672\">|</span> Phone Charger</span></span><span style=\"display:flex;\"><span> <span style=\"color:#ae81ff\">13</span>e1a63890793caa346f90607a76c1c98 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2</span>     <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2018</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">05</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">17</span> <span style=\"color:#ae81ff\">01</span>:<span style=\"color:#ae81ff\">03</span>:<span style=\"color:#ae81ff\">30</span>.<span style=\"color:#ae81ff\">344</span> <span style=\"color:#f92672\">|</span> Smartphone <span style=\"color:#66d9ef\">Case</span></span></span></code></pre></div><h4 id=\"visit-lists\">Visit lists</h4><p>The following example shows the the basic formatting for the <code>visit_lists</code> table:</p><div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"><code class=\"language-sql\" data-lang=\"sql\"><span style=\"display:flex;\"><span>myexample<span style=\"color:#f92672\">=#</span> <span style=\"color:#66d9ef\">select</span> visit_id, updated, visit_list_284 <span style=\"color:#66d9ef\">from</span> visit_lists;</span></span><span style=\"display:flex;\"><span></span></span><span style=\"display:flex;\"><span> visit_id                          <span style=\"color:#f92672\">|</span> updated                 <span style=\"color:#f92672\">|</span> visit_list_284</span></span><span style=\"display:flex;\"><span> <span style=\"color:#75715e\">----------------------------------+-------------------------------------------------------------------------</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#75715e\"></span> <span style=\"color:#ae81ff\">13</span>e1a63890793caa346f90607a76c1c98 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2018</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">04</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">22</span> <span style=\"color:#ae81ff\">12</span>:<span style=\"color:#ae81ff\">50</span>:<span style=\"color:#ae81ff\">20</span>.<span style=\"color:#ae81ff\">471</span> <span style=\"color:#f92672\">|</span> Cell Phones <span style=\"color:#f92672\">&amp;</span> Accessories</span></span><span style=\"display:flex;\"><span> <span style=\"color:#ae81ff\">13</span>e1a63890793caa346f90607a76c1c98 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2018</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">04</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">22</span> <span style=\"color:#ae81ff\">12</span>:<span style=\"color:#ae81ff\">50</span>:<span style=\"color:#ae81ff\">20</span>.<span style=\"color:#ae81ff\">471</span> <span style=\"color:#f92672\">|</span> Computers <span style=\"color:#66d9ef\">and</span> Tablets</span></span><span style=\"display:flex;\"><span> <span style=\"color:#ae81ff\">13</span>e1a63890793caa346f90607a76c1c98 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2018</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">04</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">22</span> <span style=\"color:#ae81ff\">12</span>:<span style=\"color:#ae81ff\">50</span>:<span style=\"color:#ae81ff\">20</span>.<span style=\"color:#ae81ff\">471</span> <span style=\"color:#f92672\">|</span> Office Supplies</span></span></code></pre></div><h4 id=\"visit-tallies\">Visit tallies</h4><p>The following example shows the the basic formatting for the <code>visitor_tallies</code> table:</p><div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"><code class=\"language-sql\" data-lang=\"sql\"><span style=\"display:flex;\"><span>myexample<span style=\"color:#f92672\">=#</span> <span style=\"color:#66d9ef\">select</span> visit_id, updated, visit_tally_5144_key, visit_tally_5144_value <span style=\"color:#66d9ef\">from</span> visit_tallies;</span></span><span style=\"display:flex;\"><span></span></span><span style=\"display:flex;\"><span>                        visit_id                                 <span style=\"color:#f92672\">|</span> updated                 <span style=\"color:#f92672\">|</span> visit_tally_5144_key <span style=\"color:#f92672\">|</span> visit_tally_5144_value</span></span><span style=\"display:flex;\"><span><span style=\"color:#75715e\">-----------------------------------------------------------------+-------------------------+----------------------+-----------------------</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#75715e\"></span><span style=\"color:#ae81ff\">19</span>fd8716d2f8341b81f84f471b5f950873d5c88acee9c61089f286fb8b5d4903 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">09</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">04</span> <span style=\"color:#ae81ff\">20</span>:<span style=\"color:#ae81ff\">39</span>:<span style=\"color:#ae81ff\">05</span>.<span style=\"color:#ae81ff\">303</span> <span style=\"color:#f92672\">|</span> Furniture            <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#ae81ff\">06</span>db172cf2a8fd7f9ff882a28a14ad266ee67824c9bc3ee0b1fcc451b42cec68 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">09</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">05</span> <span style=\"color:#ae81ff\">06</span>:<span style=\"color:#ae81ff\">20</span>:<span style=\"color:#ae81ff\">16</span>.<span style=\"color:#ae81ff\">209</span> <span style=\"color:#f92672\">|</span> Furniture            <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">14</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#ae81ff\">162</span>e22ba6c168bff2385bcfba9d4ba8e15767d1ad8b519b3a872a2ad89d3f3dd <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">09</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">05</span> <span style=\"color:#ae81ff\">06</span>:<span style=\"color:#ae81ff\">04</span>:<span style=\"color:#ae81ff\">59</span>.<span style=\"color:#ae81ff\">671</span> <span style=\"color:#f92672\">|</span> <span style=\"color:#66d9ef\">Search</span>               <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#ae81ff\">4225575</span>ce21a7f9454c56c269eccfee9782e03c6f647a743f058b7b667dd3bbb <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">09</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">20</span> <span style=\"color:#ae81ff\">06</span>:<span style=\"color:#ae81ff\">30</span>:<span style=\"color:#ae81ff\">14</span>.<span style=\"color:#ae81ff\">63</span>  <span style=\"color:#f92672\">|</span> Home                 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">1</span></span></span><span style=\"display:flex;\"><span>e1e5dd5e58bc97056f8340e242205e1ec2ab0a88c94c890563399f55828638f7 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">09</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">09</span> <span style=\"color:#ae81ff\">14</span>:<span style=\"color:#ae81ff\">22</span>:<span style=\"color:#ae81ff\">08</span>.<span style=\"color:#ae81ff\">575</span> <span style=\"color:#f92672\">|</span> Furniture            <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">3</span></span></span><span style=\"display:flex;\"><span>(<span style=\"color:#ae81ff\">5</span> <span style=\"color:#66d9ef\">rows</span>)</span></span></code></pre></div><h4 id=\"visitor-arrays-view\">Visitor arrays view</h4><p>The following example shows the the basic formatting for the <code>visitor_arrays_view</code> table:</p><div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"><code class=\"language-sql\" data-lang=\"sql\"><span style=\"display:flex;\"><span>myexample<span style=\"color:#f92672\">=#</span> <span style=\"color:#66d9ef\">select</span> <span style=\"color:#e6db74\">&#34;visitor - id&#34;</span>, <span style=\"color:#e6db74\">&#34;index&#34;</span>, <span style=\"color:#e6db74\">&#34;updated&#34;</span>, <span style=\"color:#e6db74\">&#34;visitor array - cart product name (421)&#34;</span> <span style=\"color:#66d9ef\">from</span> visitor_arrays_view;</span></span><span style=\"display:flex;\"><span></span></span><span style=\"display:flex;\"><span> <span style=\"color:#e6db74\">&#34;visitor array - visitor id&#34;</span>      <span style=\"color:#f92672\">|</span> <span style=\"color:#66d9ef\">index</span> <span style=\"color:#f92672\">|</span> updated                 <span style=\"color:#f92672\">|</span> <span style=\"color:#e6db74\">&#34;visitor array - cart product name (421)&#34;</span></span></span><span style=\"display:flex;\"><span> <span style=\"color:#75715e\">----------------------------------+--------------------------------------------------------------------------</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#75715e\"></span> <span style=\"color:#ae81ff\">13</span>e1a63890793caa346f90607a76c1c98 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">0</span>     <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2018</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">05</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">17</span> <span style=\"color:#ae81ff\">01</span>:<span style=\"color:#ae81ff\">03</span>:<span style=\"color:#ae81ff\">30</span>.<span style=\"color:#ae81ff\">344</span> <span style=\"color:#f92672\">|</span> Smartphone</span></span><span style=\"display:flex;\"><span> <span style=\"color:#ae81ff\">13</span>e1a63890793caa346f90607a76c1c98 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">1</span>     <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2018</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">05</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">17</span> <span style=\"color:#ae81ff\">01</span>:<span style=\"color:#ae81ff\">03</span>:<span style=\"color:#ae81ff\">30</span>.<span style=\"color:#ae81ff\">344</span> <span style=\"color:#f92672\">|</span> Phone Charger</span></span><span style=\"display:flex;\"><span> <span style=\"color:#ae81ff\">13</span>e1a63890793caa346f90607a76c1c98 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2</span>     <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2018</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">05</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">17</span> <span style=\"color:#ae81ff\">01</span>:<span style=\"color:#ae81ff\">03</span>:<span style=\"color:#ae81ff\">30</span>.<span style=\"color:#ae81ff\">344</span> <span style=\"color:#f92672\">|</span> Smartphone <span style=\"color:#66d9ef\">Case</span></span></span></code></pre></div><h4 id=\"visitor-lists\">Visitor lists</h4><p>The following example shows the the basic formatting for the <code>visitor_lists</code> table:</p><div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"><code class=\"language-sql\" data-lang=\"sql\"><span style=\"display:flex;\"><span>myexample<span style=\"color:#f92672\">=#</span> <span style=\"color:#66d9ef\">select</span> visitor_id, updated, visitor_list_5168 <span style=\"color:#66d9ef\">from</span> visitor_lists;</span></span><span style=\"display:flex;\"><span></span></span><span style=\"display:flex;\"><span>                  visitor_id                   <span style=\"color:#f92672\">|</span>         updated         <span style=\"color:#f92672\">|</span> visitor_list_5168</span></span><span style=\"display:flex;\"><span><span style=\"color:#75715e\">-----------------------------------------------+-------------------------+-------------------</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#75715e\"></span> <span style=\"color:#ae81ff\">015</span>e94db670900084e37016b9b7300087002f07f00432 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">11</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">04</span> <span style=\"color:#ae81ff\">13</span>:<span style=\"color:#ae81ff\">30</span>:<span style=\"color:#ae81ff\">33</span>.<span style=\"color:#ae81ff\">553</span> <span style=\"color:#f92672\">|</span> Cell Phones</span></span><span style=\"display:flex;\"><span> <span style=\"color:#ae81ff\">015</span>e94db670900084e37016b9b7300087002f07f00432 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">11</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">04</span> <span style=\"color:#ae81ff\">13</span>:<span style=\"color:#ae81ff\">30</span>:<span style=\"color:#ae81ff\">33</span>.<span style=\"color:#ae81ff\">553</span> <span style=\"color:#f92672\">|</span> Phone Accessories</span></span><span style=\"display:flex;\"><span> <span style=\"color:#ae81ff\">015</span>e94db670900084e37016b9b7300087002f07f00432 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">11</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">04</span> <span style=\"color:#ae81ff\">13</span>:<span style=\"color:#ae81ff\">30</span>:<span style=\"color:#ae81ff\">33</span>.<span style=\"color:#ae81ff\">553</span> <span style=\"color:#f92672\">|</span> Office Supplies</span></span></code></pre></div><h4 id=\"visitor-replaces\">Visitor replaces</h4><p>The following example shows the the basic formatting for the <code>visitor_replaces</code> table:</p><div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"><code class=\"language-sql\" data-lang=\"sql\"><span style=\"display:flex;\"><span>myexample<span style=\"color:#f92672\">=#</span> <span style=\"color:#66d9ef\">select</span> visitor_replaces_id, visitor_id, updated <span style=\"color:#66d9ef\">from</span> visitor_replaces <span style=\"color:#66d9ef\">where</span> updated <span style=\"color:#66d9ef\">is</span> <span style=\"color:#66d9ef\">not</span> <span style=\"color:#66d9ef\">null</span>;</span></span><span style=\"display:flex;\"><span></span></span><span style=\"display:flex;\"><span>                visitor_replaces_id           <span style=\"color:#f92672\">|</span> visitor_id                                      <span style=\"color:#f92672\">|</span> updated</span></span><span style=\"display:flex;\"><span><span style=\"color:#75715e\">----------------------------------------------+-------------------------------------------------+------------------------</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#75715e\"></span><span style=\"color:#ae81ff\">015</span>f8d82498b00132b921ecf890d00089001c08100432 <span style=\"color:#f92672\">|</span> myexample_main__5216_username<span style=\"color:#f92672\">@</span>gmail.com         <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">11</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">23</span> <span style=\"color:#ae81ff\">15</span>:<span style=\"color:#ae81ff\">32</span>:<span style=\"color:#ae81ff\">28</span>.<span style=\"color:#ae81ff\">81</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#ae81ff\">015</span>f4a0302b9009e17205a49027005079001c07100c48 <span style=\"color:#f92672\">|</span> myexample_main__5216_username<span style=\"color:#f92672\">@</span>myexample.com     <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">11</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">24</span> <span style=\"color:#ae81ff\">22</span>:<span style=\"color:#ae81ff\">50</span>:<span style=\"color:#ae81ff\">31</span>.<span style=\"color:#ae81ff\">105</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#ae81ff\">015</span>feb1537cc00305e319fca622400085001d07d00720 <span style=\"color:#f92672\">|</span> myexample_main__5216_username<span style=\"color:#f92672\">@</span>yahoo.com         <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">11</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">26</span> <span style=\"color:#ae81ff\">01</span>:<span style=\"color:#ae81ff\">22</span>:<span style=\"color:#ae81ff\">27</span>.<span style=\"color:#ae81ff\">57</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#ae81ff\">015</span>decf4f3170011afb0979834420007e007b07600720 <span style=\"color:#f92672\">|</span> myexample_main__5216_username<span style=\"color:#f92672\">@</span>hotmail.com       <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2018</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">01</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">03</span> <span style=\"color:#ae81ff\">22</span>:<span style=\"color:#ae81ff\">03</span>:<span style=\"color:#ae81ff\">20</span>.<span style=\"color:#ae81ff\">837</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#ae81ff\">015</span>e3b903e48000c7944f6af4b8e00087016907f0049e <span style=\"color:#f92672\">|</span> myexample_main__5216_username<span style=\"color:#f92672\">@</span>cox.net           <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2018</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">01</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">28</span> <span style=\"color:#ae81ff\">03</span>:<span style=\"color:#ae81ff\">59</span>:<span style=\"color:#ae81ff\">45</span>.<span style=\"color:#ae81ff\">031</span></span></span><span style=\"display:flex;\"><span>(<span style=\"color:#ae81ff\">5</span> <span style=\"color:#66d9ef\">rows</span>)</span></span></code></pre></div><h4 id=\"visitor-tallies\">Visitor tallies</h4><p>The following example shows the the basic formatting for the <code>visitor_tallies</code> table:</p><div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"><code class=\"language-sql\" data-lang=\"sql\"><span style=\"display:flex;\"><span>myexample<span style=\"color:#f92672\">=#</span> <span style=\"color:#66d9ef\">select</span> visitor_id, updated, visitor_tally_57_key, visitor_tally_57_value <span style=\"color:#66d9ef\">from</span> visitor_tallies;</span></span><span style=\"display:flex;\"><span></span></span><span style=\"display:flex;\"><span>                 visitor_id                   <span style=\"color:#f92672\">|</span>         updated         <span style=\"color:#f92672\">|</span> visitor_tally_57_key <span style=\"color:#f92672\">|</span> visitor_tally_57_value</span></span><span style=\"display:flex;\"><span><span style=\"color:#75715e\">----------------------------------------------+-------------------------+----------------------+------------------------</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#75715e\"></span><span style=\"color:#ae81ff\">015</span>dcd068996007c1f95a24aa47002075008d06d0093c <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">09</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">01</span> <span style=\"color:#ae81ff\">03</span>:<span style=\"color:#ae81ff\">14</span>:<span style=\"color:#ae81ff\">18</span>.<span style=\"color:#ae81ff\">519</span> <span style=\"color:#f92672\">|</span> Safari               <span style=\"color:#f92672\">|</span>                      <span style=\"color:#ae81ff\">8</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#ae81ff\">015</span>e40b27e55004ec842e2b9d0f800090001c08800408 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">09</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">02</span> <span style=\"color:#ae81ff\">13</span>:<span style=\"color:#ae81ff\">35</span>:<span style=\"color:#ae81ff\">40</span>.<span style=\"color:#ae81ff\">834</span> <span style=\"color:#f92672\">|</span> Chrome               <span style=\"color:#f92672\">|</span>                      <span style=\"color:#ae81ff\">2</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#ae81ff\">015</span>e34c9fd270014a6799597769a00088008808000408 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">08</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">31</span> <span style=\"color:#ae81ff\">05</span>:<span style=\"color:#ae81ff\">44</span>:<span style=\"color:#ae81ff\">14</span>.<span style=\"color:#ae81ff\">013</span> <span style=\"color:#f92672\">|</span> Chrome               <span style=\"color:#f92672\">|</span>                      <span style=\"color:#ae81ff\">1</span></span></span><span style=\"display:flex;\"><span>(<span style=\"color:#ae81ff\">5</span> <span style=\"color:#66d9ef\">rows</span>)</span></span></code></pre></div><h4 id=\"visitors-view\">Visitors view</h4><p>The following example shows the the basic formatting for the <code>visitors_view</code> table:</p><div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"><code class=\"language-sql\" data-lang=\"sql\"><span style=\"display:flex;\"><span><span style=\"color:#66d9ef\">select</span> <span style=\"color:#e6db74\">&#34;visitor - id&#34;</span>, <span style=\"color:#e6db74\">&#34;visitor - created&#34;</span>, <span style=\"color:#e6db74\">&#34;updated&#34;</span>, <span style=\"color:#e6db74\">&#34;visitor - audience - bedroom shoppers (myexample_main_102)&#34;</span> <span style=\"color:#66d9ef\">from</span> visitors_view <span style=\"color:#66d9ef\">limit</span> <span style=\"color:#ae81ff\">1</span>;</span></span><span style=\"display:flex;\"><span></span></span><span style=\"display:flex;\"><span>                 visitor <span style=\"color:#f92672\">-</span> id                  <span style=\"color:#f92672\">|</span>  visitor <span style=\"color:#f92672\">-</span> created  <span style=\"color:#f92672\">|</span>        updated         <span style=\"color:#f92672\">|</span> visitor <span style=\"color:#f92672\">-</span> audience <span style=\"color:#f92672\">-</span> bedroom shoppers (myexample_main_102)</span></span><span style=\"display:flex;\"><span><span style=\"color:#75715e\">-----------------------------------------------+---------------------+------------------------+---------------------------------------------------------------</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#75715e\"></span> <span style=\"color:#ae81ff\">015</span>de32cbb1e00265733c8c3c5bc00080001c07800976 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">08</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">14</span> <span style=\"color:#ae81ff\">23</span>:<span style=\"color:#ae81ff\">55</span>:<span style=\"color:#ae81ff\">46</span> <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">08</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">20</span> <span style=\"color:#ae81ff\">15</span>:<span style=\"color:#ae81ff\">27</span>:<span style=\"color:#ae81ff\">48</span>.<span style=\"color:#ae81ff\">75</span> <span style=\"color:#f92672\">|</span> f</span></span><span style=\"display:flex;\"><span>(<span style=\"color:#ae81ff\">1</span> <span style=\"color:#66d9ef\">rows</span>)</span></span></code></pre></div><h4 id=\"visits-table\">Visits table</h4><p>The following example shows the the basic formatting for the <code>visits</code> table:</p><div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"><code class=\"language-sql\" data-lang=\"sql\"><span style=\"display:flex;\"><span>myexample<span style=\"color:#f92672\">=#</span> <span style=\"color:#66d9ef\">select</span> visit_id, visitor_id, start_time, last_event_time, updated, property_5300, flag_5432 <span style=\"color:#66d9ef\">from</span> visits <span style=\"color:#66d9ef\">limit</span> <span style=\"color:#ae81ff\">5</span>;</span></span><span style=\"display:flex;\"><span></span></span><span style=\"display:flex;\"><span>                       visit_id                                  <span style=\"color:#f92672\">|</span> visitor_id                                    <span style=\"color:#f92672\">|</span>     start_time      <span style=\"color:#f92672\">|</span> last_event_time     <span style=\"color:#f92672\">|</span> updated                 <span style=\"color:#f92672\">|</span> property_5300 <span style=\"color:#f92672\">|</span> flag_5432</span></span><span style=\"display:flex;\"><span><span style=\"color:#75715e\">-----------------------------------------------------------------+-----------------------------------------------+---------------------+---------------------+-------------------------+---------------+-----------</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#75715e\"></span><span style=\"color:#ae81ff\">4</span>af5f070998b6e471d05a809d55c62811784c57ee196c39a599c0a352e925e01 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">015</span>c9e257f220048ebb26bfdb68405072001c06a00bd0 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">07</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">18</span> <span style=\"color:#ae81ff\">17</span>:<span style=\"color:#ae81ff\">04</span>:<span style=\"color:#ae81ff\">31</span> <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">07</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">18</span> <span style=\"color:#ae81ff\">17</span>:<span style=\"color:#ae81ff\">39</span>:<span style=\"color:#ae81ff\">27</span> <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">07</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">18</span> <span style=\"color:#ae81ff\">18</span>:<span style=\"color:#ae81ff\">09</span>:<span style=\"color:#ae81ff\">28</span>.<span style=\"color:#ae81ff\">994</span> <span style=\"color:#f92672\">|</span>               <span style=\"color:#f92672\">|</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#ae81ff\">42</span>fd5d3067b5472a57aa7fe6e8cf12d5d60ea2a9399d54de01bfb0b06e33bd73 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">015</span>cc166a9b100028f7070a6e51d01049003e00d00bd0 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">07</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">18</span> <span style=\"color:#ae81ff\">21</span>:<span style=\"color:#ae81ff\">10</span>:<span style=\"color:#ae81ff\">21</span> <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">07</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">18</span> <span style=\"color:#ae81ff\">21</span>:<span style=\"color:#ae81ff\">13</span>:<span style=\"color:#ae81ff\">32</span> <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">07</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">18</span> <span style=\"color:#ae81ff\">21</span>:<span style=\"color:#ae81ff\">43</span>:<span style=\"color:#ae81ff\">32</span>.<span style=\"color:#ae81ff\">948</span> <span style=\"color:#f92672\">|</span>               <span style=\"color:#f92672\">|</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#ae81ff\">9729</span>e709ec80bc476dc6c36c6bf33f998f92c3f2e3af5509078c6402ceff29bf <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">015</span>d56a5ec3d00128011a73f446404079001c07100838 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">07</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">19</span> <span style=\"color:#ae81ff\">18</span>:<span style=\"color:#ae81ff\">28</span>:<span style=\"color:#ae81ff\">26</span> <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">07</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">19</span> <span style=\"color:#ae81ff\">18</span>:<span style=\"color:#ae81ff\">28</span>:<span style=\"color:#ae81ff\">26</span> <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">07</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">19</span> <span style=\"color:#ae81ff\">18</span>:<span style=\"color:#ae81ff\">38</span>:<span style=\"color:#ae81ff\">27</span>.<span style=\"color:#ae81ff\">903</span> <span style=\"color:#f92672\">|</span>               <span style=\"color:#f92672\">|</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#ae81ff\">6</span>d1c801fb894234347d27a61b9b0f82ac918bfdc36a0510ab3be8ea6a72b9038 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">015</span>c662062aa00474d60cc4f7b4005072001c06a00bd0 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">07</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">19</span> <span style=\"color:#ae81ff\">19</span>:<span style=\"color:#ae81ff\">30</span>:<span style=\"color:#ae81ff\">08</span> <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">07</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">19</span> <span style=\"color:#ae81ff\">19</span>:<span style=\"color:#ae81ff\">30</span>:<span style=\"color:#ae81ff\">08</span> <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">07</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">19</span> <span style=\"color:#ae81ff\">19</span>:<span style=\"color:#ae81ff\">40</span>:<span style=\"color:#ae81ff\">12</span>.<span style=\"color:#ae81ff\">802</span> <span style=\"color:#f92672\">|</span>               <span style=\"color:#f92672\">|</span></span></span><span style=\"display:flex;\"><span>c97a0a0c9dfc4cb58e23dbfdb98528cddc8a989c9d65f0e6fd89ffdc5e82c727 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">015</span>c662062aa00474d60cc4f7b4005072001c06a00bd0 <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">07</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">19</span> <span style=\"color:#ae81ff\">21</span>:<span style=\"color:#ae81ff\">33</span>:<span style=\"color:#ae81ff\">00</span> <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">07</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">19</span> <span style=\"color:#ae81ff\">21</span>:<span style=\"color:#ae81ff\">33</span>:<span style=\"color:#ae81ff\">00</span> <span style=\"color:#f92672\">|</span> <span style=\"color:#ae81ff\">2017</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">07</span><span style=\"color:#f92672\">-</span><span style=\"color:#ae81ff\">19</span> <span style=\"color:#ae81ff\">21</span>:<span style=\"color:#ae81ff\">43</span>:<span style=\"color:#ae81ff\">02</span>.<span style=\"color:#ae81ff\">803</span> <span style=\"color:#f92672\">|</span>               <span style=\"color:#f92672\">|</span></span></span><span style=\"display:flex;\"><span>(<span style=\"color:#ae81ff\">5</span> <span style=\"color:#66d9ef\">rows</span>)</span></span></code></pre></div><h3 id=\"understanding-stitched-visitors\">Understanding stitched visitors</h3><p>In AudienceDB, only one visitor profile is maintained in the visitors table for visitors that become stitched. The visitor profiles for stitched visitors are viewed as one, but with different IDs. The <code>visitor_replaces</code> table provides a lookup method to view the replaced <code>visitor_ids</code> to accomplish this.</p><p>Visitor Replaces table example:</p><table><thead><tr><th><code>visitor_replaces_id</code></th><th><code>visitor_id</code></th></tr></thead><tbody><tr><td>1</td><td>3</td></tr><tr><td>2</td><td>3</td></tr><tr><td>4</td><td>6</td></tr><tr><td>5</td><td>6</td></tr></tbody></table><p>In this table:</p><ul><li>Visitor1 and Visitor2 are stitched into Visitor 3.</li><li>Visitor 4 and Visitor 5 are stitched into Visitor 6.</li></ul><p>The above information can be used to join the <code>visitors</code> table to the <code>visits</code> table or the EventDB tables, if needed.</p><p>To join events from EventDB to AudienceDB:</p><ul><li>Join <code>events_x</code> directly to the <code>visitors</code> table for non-stitched visitors, and;</li><li>Join through the <code>visitor_replaces</code> table for those that have been stitched, as shown in the following example:</li></ul><div class=\"highlight\"><pre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"><code class=\"language-sql\" data-lang=\"sql\"><span style=\"display:flex;\"><span><span style=\"color:#66d9ef\">SELECT</span> e.<span style=\"color:#e6db74\">&#34;event - id&#34;</span>, v.<span style=\"color:#e6db74\">&#34;visitor - id&#34;</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#66d9ef\">FROM</span> account__profile.events_view__all_events__all_events e</span></span><span style=\"display:flex;\"><span><span style=\"color:#66d9ef\">LEFT</span> <span style=\"color:#66d9ef\">JOIN</span> account__profile.visitor_replaces_view r <span style=\"color:#66d9ef\">ON</span> e.<span style=\"color:#e6db74\">&#34;event - visitor id&#34;</span> <span style=\"color:#f92672\">=</span> r.<span style=\"color:#e6db74\">&#34;visitor - replaces id&#34;</span></span></span><span style=\"display:flex;\"><span><span style=\"color:#66d9ef\">JOIN</span> account__profile.visitors_view_normalized v <span style=\"color:#66d9ef\">ON</span> (v.<span style=\"color:#e6db74\">&#34;visitor - id&#34;</span> <span style=\"color:#f92672\">=</span> r.<span style=\"color:#e6db74\">&#34;visitor - id&#34;</span> <span style=\"color:#66d9ef\">or</span> v.<span style=\"color:#e6db74\">&#34;visitor - id&#34;</span> <span style=\"color:#f92672\">=</span> e.<span style=\"color:#e6db74\">&#34;event - visitor id&#34;</span>)</span></span><span style=\"display:flex;\"><span><span style=\"color:#66d9ef\">limit</span> <span style=\"color:#ae81ff\">1000</span>;</span></span></code></pre></div><ul><li>This example accounts for visitor IDs in <code>events_all_events</code> being in <code>visitors</code> OR <code>visitor_replaces</code>.</li></ul><p class=\"note\"><i class=\"fas fa-info-circle\"></i>Visitors attributed to single event sessions will not be stored in the visitors table.</p><h2 id=\"related-topics\">Related topics</h2><ul><li><a href=\"https://community.tealiumiq.com/t5/Universal-Data-Hub/EventDB-AudienceDB-Best-Practices-for-Writing-Queries/ta-p/26023\">Best Practices for Writing Queries in EventDB/AudienceDB</a></li><li><a href=\"https://docs.aws.amazon.com/redshift/latest/dg/c_designing-queries-best-practices.html\">(Amazon Redshift™) Best Practices for Designing Queries</a>.</li><li><a href=\"https://docs.aws.amazon.com/redshift/latest/dg/c-optimizing-query-performance.html\">(Amazon Redshift™) Tuning Query Performance</a>.</li></ul>"
        }  

    ]
}
