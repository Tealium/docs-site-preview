<!DOCTYPE html>
<html class="no-js" lang="en-us">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://use.typekit.net/ilp4lxb.css">

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
     
    <title>Consent Manager | 概要 |Preview of Tealium Developer Docs</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
     <meta name="generator" content="Hugo 0.58.3" />

      
        <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
      

    <link href='/dist/css/app.css' rel='stylesheet' type="text/css" />

  </head>
  <body class="sidebar ma0 sans-serif bg-primary-color-light">
      
        
<script>
var utag_data = {
    category_name : "Swift",
    site_section  : "platforms",
    site_language : "ja",
    tealium_event : "page_view"
}
</script>

<script>
 (function(a,b,c,d){
    a='//tags.tiqcdn.com/utag/tealium\/docs/qa/utag.js';
    b=document;c='script';d=b.createElement(c);d.src=a;d.type='text/java'+c;d.async=true;
    a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a);
  })();
</script>

      

    
<nav class="bg-primary-color-dark pv2 w-100 sticky-t" role="navigation">

  <div class="center flex-ns flex-wrap items-center justify-start mw9">

    <h1 class="dim f3 lh-solid ml0-ns mr0 mr4-l mv0 pl3 pl4-ns">
      <a href="http://docs-preview.tealium.co.jp/"><img src="/images/icons/tealdevdocs_logo_white.svg" width="180" height="41"/></a>
    </h1>
    <ul class="list ma0 pa0 dn dib-l">
      
            
        <li class="f5 dib mr4" role="menuitem">
            
          <a href="http://docs-preview.tealium.co.jp/platforms/" class="dim link">プラットフォーム</a>
        </li>
      
    </ul>
    
    <div class="db dib-ns pl3"><form id="site-search-form" action="" role="search">
  <fieldset class="bn ma0 pa0">
    <label class="clip" for="search-input">Search</label>
    <input type="search" id="search-input" class="needs-js bg-left bn f5 input-reset lh-solid mt3 mt0-ns pl4 pv2 w5 white"
           placeholder="ドキュメントの検索" name="search-input" value=""
           style="background: transparent url('/images/icons/icon-search-white.png') no-repeat 2px 10px /16px 16px;">
  </fieldset>
</form>
</div>
    
  </div>


<div id="mainAppInner" class="padd-54">
    <div id="leftFrame">
        <div class="main-nav-container">
            <ul class="menu-group flex-0 mb-3">
                <li class="js-toggle-leftframe">
                    <a href="#" class="menu-list-item top-level tooltip-right">
                        <span class="menu-large-icon is-logo"> <img src="/images/icons/tealium_logo_color_sat.svg" class="as-main-icon"> </span>
                    </a>
                </li>
            </ul>

            <div class="flex-1">
                <ul id="navCategoryHome" class="menu-group as-main-navigation">
                    <li class="js-main-nav-section" data-section="home">
                        <a href="https://community.tealiumiq.com/" class="menu-list-item top-level tooltip-right" title="Tearlium Learnig Center Home">
                          <span class="menu-large-icon">
                              <span class="as-platform-image square-xxxs is-rounded bg-transparent">
                                  <span class="inner-image UDH-icon">TLC</span>
                              </span>
                          </span>
                          <span class="menu-context supportLinks_buttonTitle">Tealium Learning Center</span>
                        </a>
                          <span class="tooltiptext">Tealium Learning <br>Community</span>
                    </li>
                    <li class="menu-divider"></li>
                    <li class="js-main-nav-section">
                        <a href="https://community.tealiumiq.com/t5/Forums/ct-p/tealiumlearningcommunity" class="menu-list-item top-level tooltip-right" title="Community Forums">
                            <span class="menu-large-icon">
                                <i class="fa fa-comments"></i>
                            </span>
                            <span class="menu-context supportLinks_buttonTitle">Forums</span>
                        </a>
                          <span class="tooltiptext">Forums</span>
                    </li>
                    <li class="menu-divider"></li>
                    <li class="js-main-nav-section">
                        <a href="https://community.tealiumiq.com/t5/tkb/communitypage" class="menu-list-item top-level tooltip-right" title="Product Guides">
                            <span class="menu-large-icon">
                                <i class="fa fa-book"></i>
                            </span>
                            <span class="menu-context supportLinks_buttonTitle">Product Guides</span>
                        </a>
                          <span class="tooltiptext">Product Guides</span>
                    </li>
                    <li class="menu-divider"></li>
                    <li class="js-main-nav-section active">
                        <a href="https://docs.tealium.com/" class="menu-list-item top-level tooltip-right" title="Developer Documentation">
                            <span class="menu-large-icon">
                                <i class="fa fa-code"></i>
                            </span>
                            <span class="menu-context supportLinks_buttonTitle">Developer Docs</span>
                        </a>
                          <span class="tooltiptext">Developer Docs</span>
                    </li>
                    <li class="menu-divider"></li>
                    <li class="js-main-nav-section">
                        <a href="https://community.tealiumiq.com/t5/Product-Ideas/idb-p/product-ideas" class="menu-list-item top-level tooltip-right" title="Product Ideas">
                            <span class="menu-large-icon">
                                <i class="fa fa-lightbulb-o"></i>
                            </span>
                            <span class="menu-context supportLinks_buttonTitle">Product Ideas</span>
                        </a>
                          <span class="tooltiptext">Product Ideas</span>
                    </li>
                    <li class="menu-divider"></li>
                    <li class="js-main-nav-section">
                        <a href="https://community.tealiumiq.com/t5/Education/ct-p/education" class="menu-list-item top-level tooltip-right" title="Education">
                            <span class="menu-large-icon">
                                <i class="fa fa-graduation-cap"></i>
                            </span>
                            <span class="menu-context supportLinks_buttonTitle">Education</span>
                        </a>
                          <span class="tooltiptext">Education</span>
                    </li>
                    <li class="menu-divider"></li>
                    <li class="js-main-nav-section">
                        <a href="https://community.tealiumiq.com/t5/TLC-Blog/bg-p/TLC-Blog" class="menu-list-item top-level tooltip-right" title="TLC Blog">
                            <span class="menu-large-icon">
                                <i class="fa fa-newspaper-o"></i>
                            </span>
                            <span class="menu-context supportLinks_buttonTitle">TLC Blog</span>
                        </a>
                          <span class="tooltiptext">TLC Blog</span>
                    </li>
                    <li class="menu-divider"></li>
                    <li class="js-main-nav-section">
                        <a  href="https://support.tealiumiq.com" target="_blank" class="menu-list-item top-level tooltip-right" title="Tealium Support Desk">
                          <span class="menu-large-icon">
                            <i class="fa fa-life-ring"></i>
                          </span>
                          <span class="menu-context supportLinks_buttonTitle">Support Desk</span>
                        </a>
                          <span class="tooltiptext">Support Desk</span>
                    </li>
                </ul>
            </div>
            <ul class="menu-group as-main-navigation flex-0 bottom-align">
              <li class="menu-divider"></li>
              <li class="js-main-nav-section">
                <a href="https://my.tealiumiq.com/" class="menu-list-item top-level tooltip-right" title="Universal Data Hub">
                    <span class="menu-large-icon">
                        <span class="as-platform-image square-xxxs is-rounded bg-transparent">
                            <span class="inner-image UDH-icon">UDH</span>
                        </span>
                    </span>
                    <span class="menu-context supportLinks_buttonTitle">Universal Data Hub</span>
                </a>
                          <span class="tooltiptext">Universal Data Hub</span>
              </li>
              <li class="menu-divider"></li>
              <li class="js-toggle-leftframe">
                <a href="#" class="menu-list-item top-level d-flex justify-content-end" title="Expand/Collapse">
                    <span class="menu-large-icon d-flex align-items-center justify-content-center mr-0">
                        <span class="as-platform-image square-xxxs is-rounded bg-transparent d-flex align-items-center justify-content-center">
                            <i class="fa as-caret"></i>
                        </span>
                    </span>
                </a>
              </li>
            </ul>

        </div>

    </div>
</div>


</nav>

    
    <main role="main" class="content-with-sidebar pb7 pb0-ns">
      
  <article class="w-100 ph4 pb2 pb2-ns pt1 pt4-ns">
    <div class="flex-l">

      <div class="order-2 w-100 w-20-l ph4-m ph0-l mb4 sticky-r">




  <aside class="fixed-lTK mw5-l right-0 f6 bl-l b--moon-gray pv4 pv0-ns ph4-l nested-links nested-copy-line-height">
      <p class="b">目次</p>
      <nav id="TableOfContents"><ul class="toc-h2"><li><a href="#%e4%bb%95%e7%b5%84%e3%81%bf">仕組み</a></li>
              <li><a href="#%e3%82%b5%e3%83%9d%e3%83%bc%e3%83%88%e3%81%95%e3%82%8c%e3%81%a6%e3%81%84%e3%82%8b%e3%83%97%e3%83%a9%e3%83%83%e3%83%88%e3%83%95%e3%82%a9%e3%83%bc%e3%83%a0">サポートされているプラットフォーム</a></li>
              <li><a href="#%e5%a4%96%e9%83%a8%e3%81%ae%e4%be%9d%e5%ad%98%e9%96%a2%e4%bf%82">外部の依存関係</a></li>
              <li><a href="#%e6%8e%a8%e5%a5%a8%e3%81%95%e3%82%8c%e3%82%8b%e4%bd%bf%e7%94%a8%e6%96%b9%e6%b3%95">推奨される使用方法</a></li>
              <li><a href="#consent-manager%e3%81%ae%e7%84%a1%e5%8a%b9%e5%8c%96">Consent Managerの無効化</a></li>
              <li><a href="#%e5%90%ab%e3%81%be%e3%82%8c%e3%82%8b%e5%a4%89%e6%95%b0">含まれる変数</a></li>
              <li><a href="#%e3%83%91%e3%83%96%e3%83%aa%e3%83%83%e3%82%afapi">パブリックAPI</a></li>
              <ul class="toc-h3"><li><a href="#consentmanager">consentManager</a></li>
              <li><a href="#addconsentdelegate">addConsentDelegate</a></li>
              <li><a href="#removeallconsentdelegates">removeAllConsentDelegates</a></li>
              <li><a href="#setuserconsentstatus">setUserConsentStatus</a></li>
              <li><a href="#setuserconsentcategories">setUserConsentCategories</a></li>
              <li><a href="#setuserconsentstatuswithcategories">setUserConsentStatusWithCategories</a></li>
              <li><a href="#getuserconsentstatus">getUserConsentStatus</a></li>
              <li><a href="#getuserconsentcategories">getUserConsentCategories</a></li>
              <li><a href="#getuserconsentpreferences">getUserConsentPreferences</a></li>
              <li><a href="#resetuserconsentpreferences">resetUserConsentPreferences</a></li>
              </ul><li><a href="#tealiumconfig%e3%81%ae%e3%83%a1%e3%82%bd%e3%83%83%e3%83%89">TealiumConfigのメソッド</a></li>
              <ul class="toc-h3"><li><a href="#setconsentloggingenabled">setConsentLoggingEnabled</a></li>
              <li><a href="#isconsentloggingenabled">isConsentLoggingEnabled</a></li>
              <li><a href="#setinitialuserconsentstatus">setInitialUserConsentStatus</a></li>
              <li><a href="#setinitialuserconsentcategories">setInitialUserConsentCategories</a></li>
              <li><a href="#getinitialuserconsentstatus">getInitialUserConsentStatus</a></li>
              <li><a href="#getinitialuserconsentcategories">getInitialUserConsentCategories</a></li>
              <li><a href="#setoverrideconsentpolicy">setOverrideConsentPolicy</a></li>
              <li><a href="#getoverrideconsentpolicy">getOverrideConsentPolicy</a></li>
              </ul><li><a href="#%e3%83%87%e3%83%aa%e3%82%b2%e3%83%bc%e3%83%88%e3%83%a1%e3%82%bd%e3%83%83%e3%83%89-tealiumconsentmanagerdelegate">デリゲートメソッド（TealiumConsentManagerDelegate）</a></li>
              <ul class="toc-h3"><li><a href="#willdroptrackingcall">willDropTrackingCall</a></li>
              <li><a href="#willqueuetrackingcall">willQueueTrackingCall</a></li>
              <li><a href="#willsendtrackingcall">willSendTrackingCall</a></li>
              <li><a href="#consentstatuschanged">consentStatusChanged</a></li>
              <li><a href="#userconsentedtotracking">userConsentedToTracking</a></li>
              <li><a href="#useroptedoutoftracking">userOptedOutOfTracking</a></li>
              <li><a href="#userchangedconsentcategories">userChangedConsentCategories</a></li>
              </ul><li><a href="#tealiumconsentcategories">TealiumConsentCategories</a></li>
              <ul class="toc-h3"><li><a href="#%e5%88%97%e6%8c%99%e5%9e%8b%e3%81%ae%e5%80%a4">列挙型の値</a></li>
              <li><a href="#all">all</a></li>
              <li><a href="#consentcategoriesstringarraytoenum">consentCategoriesStringArrayToEnum</a></li>
              </ul><li><a href="#tealiumconsentstatus">TealiumConsentStatus</a></li>
              <ul class="toc-h3"><li><a href="#unknown">unknown</a></li>
              <li><a href="#consented">consented</a></li>
              <li><a href="#notconsented">notConsented</a></li>
              </ul><li><a href="#tealiumconsentconstants-%e5%86%85%e9%83%a8">TealiumConsentConstants（内部）</a></li>
              <li><a href="#%e4%bd%bf%e7%94%a8%e4%ba%8b%e4%be%8b1-%e7%b0%a1%e5%8d%98%e3%81%aa%e3%82%aa%e3%83%97%e3%83%88%e3%82%a4%e3%83%b3">使用事例1：簡単なオプトイン</a></li>
              <li><a href="#%e4%bd%bf%e7%94%a8%e4%ba%8b%e4%be%8b2-%e3%82%b0%e3%83%ab%e3%83%bc%e3%83%97%e3%82%aa%e3%83%97%e3%83%88%e3%82%a4%e3%83%b3">使用事例2：グループオプトイン</a></li>
              <li><a href="#%e4%bd%bf%e7%94%a8%e4%ba%8b%e4%be%8b3-%e3%82%ab%e3%83%86%e3%82%b4%e3%83%aa%e3%83%99%e3%83%bc%e3%82%b9%e3%81%ae%e3%82%aa%e3%83%97%e3%83%88%e3%82%a4%e3%83%b3">使用事例3：カテゴリベースのオプトイン</a></li>
              <li><a href="#%e3%83%93%e3%83%87%e3%82%aa">ビデオ</a></li>
              <li><a href="#%e4%bb%8a%e5%be%8c%e3%81%ae%e6%94%b9%e5%96%84">今後の改善</a></li>
              <li><a href="#%e5%a4%89%e6%9b%b4%e5%b1%a5%e6%ad%b4">変更履歴</a></li>
              </nav>
  </aside></div>

      <div class="order-1 ph0 ph4-ns mid-gray nested-copy-line-height no-underline nested-links nested-copy-seperator nested-blockquote mt0-ns" style="flex-grow:1;">
        <div class="documentation-copy center measure-wide-l">
          <div id="readout" class="fixed right-0 bottom-0">
          </div>
          <header class="flex-none w-100">
  
    
      <a href="/platforms/swift" class="f6 fw8 mb0 link mid-gray dim mr3">
        SWIFT
      </a>
    
  

  <h1 class="lh-title mb3 mv0 pt3">Consent Manager</h1>
</header>

<aside class="bt bw1 pt3 mt2 mid-gray b--mid-gray fn w-100">
  
    <div class="f4 fw4 lh-copy">
      同意管理をSwiftアプリに実装します。
    </div>
  

  
</aside>



<div class="prose" id="prose">



<p>このモジュールは、アプリをGDPRなどの規制に準拠させるのに役立つ<a href="https://community.tealiumiq.com/t5/iQ-Tag-Management/Explicit-Consent-Prompt-Manager/ta-p/22714">Tealium Consent Manager</a>の便利な実装を提供します。 これを実装すると、ユーザーは簡単にトラッキングに同意したり、トラッキングを拒否したりできるようになります。Tealium SDKでは、ユーザーの選択を保存し、その時点からユーザーの選択を尊重します。</p>

<h2 id="仕組み">仕組み</h2>

<p>Consent Managerが有効になると、ユーザーが同意するまで、すべてのイベントはキューに追加されます。 ユーザーは完全に同意するか、部分的（カテゴリ別）に同意するか、同意を拒否することができます。 これらの選択の結果は、次のように定義されています。</p>

<h4 id="完全に同意">完全に同意</h4>

<ul>
<li>キューに追加されたイベントが送信されます。</li>
<li>同意状態が永続的に保存され、新しいトラッキングコールが行われるたびにその状態が確認されます。</li>
<li><a href="https://community.tealiumiq.com/t5/Universal-Data-Hub/Consent-Change-Event-Specifications/ta-p/23213">同意の記録</a>が有効な場合、ユーザーの同意状態をトラッキングするためにイベントが送信されます。これは、監査目的のみで行われます。</li>
</ul>

<h4 id="部分的-カテゴリ別-に同意">部分的（カテゴリ別）に同意</h4>

<ul>
<li>ユーザーがカスタマイズ設定を行い、特定のカテゴリのみに同意した場合、タグまたはコネクタがTealium iQとEventStreamそれぞれで発動されるときにそれらのカテゴリが考慮されます。</li>
<li><a href="https://community.tealiumiq.com/t5/Universal-Data-Hub/Consent-Change-Event-Specifications/ta-p/23213">同意の記録</a>が有効な場合、ユーザーの同意設定をトラッキングするためにイベントが送信されます。これは、監査目的のみで行われます。</li>
</ul>

<h4 id="同意の拒否">同意の拒否</h4>

<ul>
<li>キューに追加されたトラッキングコールがすべて削除されます。</li>
<li>今後のトラッキングコールはすべて無視されます。</li>
<li><a href="https://community.tealiumiq.com/t5/Universal-Data-Hub/Consent-Change-Event-Specifications/ta-p/23213">同意の記録</a>が有効な場合、ユーザーの同意設定をトラッキングするためにイベントが送信されます。これは、監査目的のみで行われます。</li>
</ul>

<p class="note">Consent Managerモジュールはデフォルトで有効になっています。</p>

<h2 id="サポートされているプラットフォーム">サポートされているプラットフォーム</h2>

<p>iOS、tvOS、watchOS、macOS</p>

<h2 id="外部の依存関係">外部の依存関係</h2>

<p>Foundation</p>

<h2 id="推奨される使用方法">推奨される使用方法</h2>

<p>このモジュールの使用を推奨します。</p>

<p>これはCarthageおよびCocoaPodsフレームワークビルドに自動的に含まれ、有効になっています。</p>

<h2 id="consent-managerの無効化">Consent Managerの無効化</h2>

<p>Consent Managerを使用する必要がない場合は、初期化時に<a href="https://community.tealiumiq.com/t5/Tealium-for-Swift/Swift-Class-TealiumConfig/ta-p/17095#toc-hId--1223033010">TealiumConfig</a>オブジェクトの無効なモジュールリストにこのモジュールを含めることで無効にできます。</p>

<h2 id="含まれる変数">含まれる変数</h2>

<p>モジュールが有効な場合に、トラッキングコールのたびに以下の変数が送信されます。</p>

<table>
<thead>
<tr>
<th>変数名</th>
<th>詳細</th>
<th>値の例</th>
</tr>
</thead>

<tbody>
<tr>
<td>policy</td>
<td>同意を得る際に従ったポリシー</td>
<td>gdpr（デフォルト値）</td>
</tr>

<tr>
<td>consent_status</td>
<td>ユーザーの現在の同意ステータス</td>
<td>consented/notConsented</td>
</tr>

<tr>
<td>consent_categories</td>
<td>ユーザーが選択した同意カテゴリのarray</td>
<td>[&ldquo;analytics&rdquo;, &ldquo;cdp&rdquo;]</td>
</tr>
</tbody>
</table>

<h2 id="パブリックapi">パブリックAPI</h2>

<h3 id="consentmanager">consentManager</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">class</span> <span style="color:#458;font-weight:bold">MyClass</span> {
    <span style="font-weight:bold">var</span> <span style="color:#008080">tealium</span>: Tealium?

    <span style="font-weight:bold">public</span> <span style="font-weight:bold">init</span> () {
        <span style="font-weight:bold">let</span> <span style="color:#008080">config</span> = TealiumConfig(account: <span style="color:#b84">&#34;&lt;youraccount&gt;&#34;</span>,
                                   profile: <span style="color:#b84">&#34;demo&#34;</span>,
                                   environment: <span style="color:#b84">&#34;dev&#34;</span>,
                                   datasource: <span style="color:#b84">&#34;abc123&#34;</span>,
                                   optionalData: <span style="font-weight:bold">nil</span>)

		<span style="font-weight:bold">self</span>.tealium = Tealium(config) {
			<span style="color:#998;font-style:italic">// Note: this is inside the completion block after initialization</span>

			<span style="color:#998;font-style:italic">// self.tealium is guaranteed to be initialized inside the completion block</span>
			<span style="font-weight:bold">self</span>.tealium?.consentManager()?.#### <span style="color:#998;font-style:italic">// where #### is any public API method on the consentManager object</span>
		}
	}
}</code></pre></div>
<p>このコードは、Consent Managerへのアクセス方法を示しています。</p>

<h3 id="addconsentdelegate">addConsentDelegate</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift">tealium?.consentManager()?.addConsentDelegate(<span style="font-weight:bold">self</span>)</code></pre></div>
<p>TealiumConsentDelegateプロトコルに準拠する特定のクラスを登録します。</p>

<table>
<thead>
<tr>
<th>パラメータ</th>
<th>詳細</th>
</tr>
</thead>

<tbody>
<tr>
<td>delegate</td>
<td>TealiumConsentDelegateに準拠するクラス</td>
</tr>
</tbody>
</table>

<h3 id="removeallconsentdelegates">removeAllConsentDelegates</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift">tealium?.consentManager()?.removeAllConsentDelegates()</code></pre></div>
<p>開発者が追加したすべての同意デリゲートを削除します。 TealiumConsentManagerModuleクラスによって作成されたビルトインデリゲートは維持されます。</p>

<h3 id="setuserconsentstatus">setUserConsentStatus</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift">tealium?.consentManager()?.setUserConsentStatus(.consented)</code></pre></div>
<p>ユーザーの同意ステータスを設定します。 ユーザーがトラッキングを有効または無効にしたときに、アプリの同意管理設定画面から呼び出されるように設計されています。</p>

<p>ステータスが<code>.consented</code>の場合は常に、使用可能なすべての同意カテゴリを含むように同意カテゴリのリストを設定します。 カテゴリを選択的に設定することはできません。</p>

<table>
<thead>
<tr>
<th>パラメータ</th>
<th>詳細</th>
<th>値の例</th>
</tr>
</thead>

<tbody>
<tr>
<td>status</td>
<td>TealiumConsentStatus列挙型の値</td>
<td><code>.consented</code>/<code>.notConsented</code></td>
</tr>
</tbody>
</table>

<h3 id="setuserconsentcategories">setUserConsentCategories</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift">tealium?.consentManager()?.setUserConsentCategories([.analytics,.bigData])</code></pre></div>
<p>ユーザーの同意カテゴリを設定します。 アプリの同意管理設定画面から呼び出されるように設計されています。</p>

<p>常に同意ステータスを<code>.consented</code>に設定します。</p>

<table>
<thead>
<tr>
<th>パラメータ</th>
<th>詳細</th>
<th>値の例</th>
</tr>
</thead>

<tbody>
<tr>
<td>categories</td>
<td>TealiumConsentCategories列挙型の値のarray</td>
<td><code>[.analytics,.bigData]</code></td>
</tr>
</tbody>
</table>

<h3 id="setuserconsentstatuswithcategories">setUserConsentStatusWithCategories</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift">tealium?.consentManager()?.setUserConsentStatusWithCategories(status: .consented, categories: [.analytics])</code></pre></div>
<p>1つのコールで同意ステータスとカテゴリを設定します。</p>

<table>
<thead>
<tr>
<th>パラメータ</th>
<th>詳細</th>
<th>値の例</th>
</tr>
</thead>

<tbody>
<tr>
<td>status</td>
<td>TealiumConsentStatus列挙型の値</td>
<td><code>.consented</code>/<code>.notConsented</code></td>
</tr>

<tr>
<td>categories</td>
<td>TealiumConsentCategories列挙型の値のarray</td>
<td><code>[.analytics]</code></td>
</tr>
</tbody>
</table>

<h3 id="getuserconsentstatus">getUserConsentStatus</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">let</span> <span style="color:#008080">consentStatus</span>: TealiumConsentStatus? = tealium?.consentManager()?.getUserConsentStatus()</code></pre></div>
<p>現在の同意ステータスを返します。</p>

<h3 id="getuserconsentcategories">getUserConsentCategories</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">let</span> <span style="color:#008080">consentCategories</span>: [TealiumConsentCategories]? = <span style="font-weight:bold">self</span>.tealium?.consentManager()?.getUserConsentCategories()</code></pre></div>
<p>現在の同意カテゴリを返します。</p>

<h3 id="getuserconsentpreferences">getUserConsentPreferences</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">let</span> <span style="color:#008080">prefs</span>: TealiumConsentUserPreferences? = tealium?.consentManager()?.getUserConsentPreferences()</code></pre></div>
<p>（値-&gt;構造体によって）TealiumConsentUserPreferencesオブジェクトを返します。</p>

<h3 id="resetuserconsentpreferences">resetUserConsentPreferences</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift">tealium?.consentManager()?.resetUserConsentPreferences()</code></pre></div>
<p>現在保存されている同意設定をすべてクリアします。 カテゴリが何も設定されていない&rdquo;unknown&rdquo;同意状態に戻します。</p>

<h2 id="tealiumconfigのメソッド">TealiumConfigのメソッド</h2>

<h3 id="setconsentloggingenabled">setConsentLoggingEnabled</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">let</span> <span style="color:#008080">config</span> = TealiumConfig(...)
config.setConsentLoggingEnabled(<span style="font-weight:bold">true</span>)</code></pre></div>
<p><a href="https://community.tealiumiq.com/t5/Universal-Data-Hub/Consent-Change-Event-Specifications/ta-p/23213">同意の記録</a>機能を有効にします。この機能では、監査目的で同意ステータスの変化をすべてUDHに送信します。</p>

<table>
<thead>
<tr>
<th>パラメータ</th>
<th>詳細</th>
<th>値の例</th>
</tr>
</thead>

<tbody>
<tr>
<td>enabled</td>
<td>ブーリアン</td>
<td>true（デフォルト：false）</td>
</tr>
</tbody>
</table>

<h3 id="isconsentloggingenabled">isConsentLoggingEnabled</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">let</span> <span style="color:#008080">config</span> = TealiumConfig(...)
<span style="font-weight:bold">let</span> <span style="color:#008080">isEnabled</span> = config.isConsentLoggingEnabled()</code></pre></div>
<p>同意の記録機能の現在の状態を返します。</p>

<h3 id="setinitialuserconsentstatus">setInitialUserConsentStatus</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">let</span> <span style="color:#008080">config</span> = TealiumConfig(...)
config.setInitialUserConsentStatus(.notConsented)</code></pre></div>
<p>ライブラリが初めて起動したときに、ユーザーの初期同意ステータスを設定します。 保存されている設定がある場合は、その設定でconfigオブジェクトに渡された設定がオーバーライドされます。</p>

<p>ステータスが<code>.consented</code>の場合は常に、使用可能なすべての同意カテゴリを含むように同意カテゴリのリストを設定します。 カテゴリを選択的に設定することはできません。</p>

<p>同意される前にイベントをキューに追加するというデフォルトの動作をオーバーライドし、同意前にトラッキングされたすべてのイベントを無視するには、このメソッドを使用します。 configオブジェクトに次の行を追加します。</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift">setInitialUserConsentStatus(.notConsented)</code></pre></div>
<table>
<thead>
<tr>
<th>パラメータ</th>
<th>詳細</th>
<th>値の例</th>
</tr>
</thead>

<tbody>
<tr>
<td>status</td>
<td>TealiumConsentStatus列挙型の値</td>
<td>.consented/.notConsented</td>
</tr>
</tbody>
</table>

<h3 id="setinitialuserconsentcategories">setInitialUserConsentCategories</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">let</span> <span style="color:#008080">config</span> = TealiumConfig(...)
config.setInitialUserConsentCategories([.analytics])</code></pre></div>
<p>ライブラリが初めて起動したときに、ユーザーの初期同意カテゴリを設定します。 保存されている設定がある場合は、その設定でconfigオブジェクトに渡された設定がオーバーライドされます。</p>

<p>常に同意ステータスを<code>.consented</code>に設定します。</p>

<table>
<thead>
<tr>
<th>パラメータ</th>
<th>詳細</th>
<th>値の例</th>
</tr>
</thead>

<tbody>
<tr>
<td>categories</td>
<td>TealiumConsentCategories列挙型の値のarray</td>
<td>[.analytics,.bigData]</td>
</tr>
</tbody>
</table>

<h3 id="getinitialuserconsentstatus">getInitialUserConsentStatus</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">let</span> <span style="color:#008080">config</span> = TealiumConfig(...)
<span style="font-weight:bold">let</span> <span style="color:#008080">status</span>: TealiumConsentStatus? = config.getInitialConsentStatus()</code></pre></div>
<p>configオブジェクトに現在設定されている同意ステータスのゲッター。</p>

<p>ライブラリの起動後にユーザーが設定を変更した場合、consentManagerで設定されている同意ステータスが一致しない可能性があります。</p>

<h3 id="getinitialuserconsentcategories">getInitialUserConsentCategories</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">let</span> <span style="color:#008080">config</span> = TealiumConfig(...)
<span style="font-weight:bold">let</span> <span style="color:#008080">categories</span>: [TealiumConsentCategories]? = config.getInitialConsentCategories()</code></pre></div>
<p>configオブジェクトに現在設定されている同意カテゴリのゲッター。</p>

<p>ライブラリの起動後にユーザーが設定を変更した場合、consentManagerに設定されている同意カテゴリが一致しない可能性があります。</p>

<h3 id="setoverrideconsentpolicy">setOverrideConsentPolicy</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">let</span> <span style="color:#008080">config</span> = TealiumConfig(...)
config.setOverrideConsentPolicy(<span style="color:#b84">&#34;mycustompolicy&#34;</span>)</code></pre></div>
<p>デフォルトの<code>policy</code>パラメータをオーバーライドします。 デフォルトは<code>gdpr</code>です。</p>

<table>
<thead>
<tr>
<th>パラメータ</th>
<th>詳細</th>
<th>値の例</th>
</tr>
</thead>

<tbody>
<tr>
<td>policy</td>
<td>同意の記録目的で設定するポリシーを記述する文字列値</td>
<td>&ldquo;mycustompolicy&rdquo;</td>
</tr>
</tbody>
</table>

<h3 id="getoverrideconsentpolicy">getOverrideConsentPolicy</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">let</span> <span style="color:#008080">config</span> = TealiumConfig(...)
<span style="font-weight:bold">let</span> <span style="color:#008080">currentPolicy</span> = config.getOverrideConsentPolicy()</code></pre></div>
<p>該当する場合、現在の同意ポリシーのオーバーライドを返します。 任意。</p>

<h2 id="デリゲートメソッド-tealiumconsentmanagerdelegate">デリゲートメソッド（TealiumConsentManagerDelegate）</h2>

<h3 id="willdroptrackingcall">willDropTrackingCall</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">func</span> <span style="color:#900;font-weight:bold">willDropTrackingCall</span>(<span style="font-weight:bold">_</span> request: TealiumTrackRequest) {
        print(<span style="color:#b84">&#34;**** Tracking call DROPPED ******&#34;</span>)
        print(request.data)
    }</code></pre></div>
<p>このメソッドは、Consent Managerがトラッキングコールを中断する（つまり、ユーザーがトラッキングに同意した）ときに呼び出されます。</p>

<h3 id="willqueuetrackingcall">willQueueTrackingCall</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">func</span> <span style="color:#900;font-weight:bold">willQueueTrackingCall</span>(<span style="font-weight:bold">_</span> request: TealiumTrackRequest) {
        print(<span style="color:#b84">&#34;**** Tracking call Queued ******&#34;</span>)
        print(request.data)
    }</code></pre></div>
<p>このメソッドは、Consent Managerが&rdquo;unknown&rdquo;状態のときに呼び出されます。トラッキングコールは、ユーザーが同意するか同意を拒否するまでローカルでキューに追加されます。</p>

<h3 id="willsendtrackingcall">willSendTrackingCall</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">func</span> <span style="color:#900;font-weight:bold">willSendTrackingCall</span>(<span style="font-weight:bold">_</span> request: TealiumTrackRequest) {
        print(<span style="color:#b84">&#34;**** Tracking call Sent&#34;</span>)
        print(request.data)
    }</code></pre></div>
<p>このメソッドは、ユーザーがトラッキングに同意しているときに呼び出されます。トラッキングコールは、ブロックされることなくConsent Managerに渡されます。</p>

<h3 id="consentstatuschanged">consentStatusChanged</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">func</span> <span style="color:#900;font-weight:bold">consentStatusChanged</span>(<span style="font-weight:bold">_</span> state: TealiumConsentStatus) {
    print(state)
}</code></pre></div>
<p>このメソッドは、同意状態が正常に更新されるたびに呼び出されます。</p>

<h3 id="userconsentedtotracking">userConsentedToTracking</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">func</span> <span style="color:#900;font-weight:bold">userConsentedToTracking</span>() {
        print(<span style="color:#b84">&#34;User Consented&#34;</span>)
    }</code></pre></div>
<p>このメソッドは、同意状態が<code>.consented</code>に変化されるたびに呼び出されます。</p>

<h3 id="useroptedoutoftracking">userOptedOutOfTracking</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">func</span> <span style="color:#900;font-weight:bold">userOptedOutOfTracking</span>() {
        print(<span style="color:#b84">&#34;User Declined Tracking&#34;</span>)
    }</code></pre></div>
<p>このメソッドは、ユーザーが同意を拒否する/取り消す（同意ステータス：<code>.notConsented</code>）たびに呼び出されます。</p>

<h3 id="userchangedconsentcategories">userChangedConsentCategories</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">func</span> <span style="color:#900;font-weight:bold">userChangedConsentCategories</span>(categories: [TealiumConsentCategories]) {
        print(<span style="color:#b84">&#34;Categories Changed&#34;</span>)
    }</code></pre></div>
<p>このメソッドは、ユーザーが同意カテゴリの設定を更新するたびに呼び出されます。</p>

<h1 id="列挙型と定数">列挙型と定数</h1>

<h2 id="tealiumconsentcategories">TealiumConsentCategories</h2>

<h3 id="列挙型の値">列挙型の値</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift">.analytics
.affiliates
.displayAds
.email
.personalization
.search
.social
.bigData
.mobile
.engagement
.monitoring
.cdm
.cdp
.cookiematch
.misc</code></pre></div>
<p>この列挙型は、サポートされている同意カテゴリの包括的なリストを含みます。</p>

<h3 id="all">all</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">let</span> <span style="color:#008080">allCategories</span>: [TealiumConsentCategories] = TealiumConsentCategories.all()</code></pre></div>
<p>サポートされている同意カテゴリの包括的なリストを返します。</p>

<h3 id="consentcategoriesstringarraytoenum">consentCategoriesStringArrayToEnum</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">let</span> <span style="color:#008080">selectCategories</span>: [TealiumConsentCategories] = TealiumConsentCategories.consentCategoriesStringArrayToEnum([<span style="color:#b84">&#34;analytics&#34;</span>,<span style="color:#b84">&#34;bigData&#34;</span>])</code></pre></div>
<p>有効な同意カテゴリを含む文字列のarrayを列挙値のarrayに変換します。 無効な文字列値は結果のarrayから省略されます。</p>

<table>
<thead>
<tr>
<th>パラメータ</th>
<th>詳細</th>
<th>値の例</th>
</tr>
</thead>

<tbody>
<tr>
<td>[String]</td>
<td>TealiumConsentCategoriesのarrayに変換する文字列のarray。</td>
<td>[&ldquo;analytics&rdquo;, &ldquo;bigData&rdquo;]</td>
</tr>
</tbody>
</table>

<h2 id="tealiumconsentstatus">TealiumConsentStatus</h2>

<h3 id="unknown">unknown</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">let</span> <span style="color:#008080">status</span>: TealiumConsentStatus = .unknown</code></pre></div>
<p><code>unknown</code>ステータスは、Consent Managerのデフォルト設定です。 このステータスの場合、Consent Managerはローカルでイベントをキューに追加します。これは、断定的な<code>consented</code>/<code>notConsented</code>ステータスが設定されるまで続きます。</p>

<h3 id="consented">consented</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">let</span> <span style="color:#008080">status</span>: TealiumConsentStatus = .consented</code></pre></div>
<p><code>consented</code>ステータスは、ユーザーがトラッキングに同意している場合に設定されます。 このステータスの場合、Consent Managerはすべてのトラッキングコールを通常通りに続行できます。</p>

<h3 id="notconsented">notConsented</h3>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">let</span> <span style="color:#008080">status</span>: TealiumConsentStatus = .notConsented</code></pre></div>
<p><code>notConsented</code>ステータスは、ユーザーがトラッキングを拒否している場合に設定されます。 このステータスの場合、Consent Managerはすべてのトラッキングコールを中断し、SDKによるそれ以上の処理を停止します。</p>

<h2 id="tealiumconsentconstants-内部">TealiumConsentConstants（内部）</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">public</span> <span style="font-weight:bold">enum</span> <span style="color:#458;font-weight:bold">TealiumConsentConstants</span> {
    <span style="font-weight:bold">static</span> <span style="font-weight:bold">let</span> <span style="color:#008080">consentCategoriesKey</span> = <span style="color:#b84">&#34;consent_categories&#34;</span>
    <span style="font-weight:bold">static</span> <span style="font-weight:bold">let</span> <span style="color:#008080">trackingConsentedKey</span> = <span style="color:#b84">&#34;tracking_consented&#34;</span>
    <span style="font-weight:bold">static</span> <span style="font-weight:bold">let</span> <span style="color:#008080">consentGrantedEventName</span> = <span style="color:#b84">&#34;grant_full_consent&#34;</span>
    <span style="font-weight:bold">static</span> <span style="font-weight:bold">let</span> <span style="color:#008080">consentDeclinedEventName</span> = <span style="color:#b84">&#34;decline_consent&#34;</span>
    <span style="font-weight:bold">static</span> <span style="font-weight:bold">let</span> <span style="color:#008080">consentPartialEventName</span> = <span style="color:#b84">&#34;grant_partial_consent&#34;</span>
    <span style="font-weight:bold">static</span> <span style="font-weight:bold">let</span> <span style="color:#008080">updateConsentCookieEventName</span> = <span style="color:#b84">&#34;update_consent_cookie&#34;</span>
    <span style="font-weight:bold">static</span> <span style="font-weight:bold">let</span> <span style="color:#008080">moduleName</span> = <span style="color:#b84">&#34;consentmanager&#34;</span>
    <span style="font-weight:bold">static</span> <span style="font-weight:bold">let</span> <span style="color:#008080">consentLoggingEnabled</span> = <span style="color:#b84">&#34;consent_manager_enabled&#34;</span>
    <span style="font-weight:bold">static</span> <span style="font-weight:bold">let</span> <span style="color:#008080">consentStatus</span> = <span style="color:#b84">&#34;consent_status&#34;</span>
    <span style="font-weight:bold">static</span> <span style="font-weight:bold">let</span> <span style="color:#008080">policyKey</span> = <span style="color:#b84">&#34;policy&#34;</span>
    <span style="font-weight:bold">static</span> <span style="font-weight:bold">let</span> <span style="color:#008080">defaultPolicy</span> = <span style="color:#b84">&#34;gdpr&#34;</span>
}</code></pre></div>
<p>この列挙型は、静的キー名を構成する一元的な場所を提供するためにSDKの内部で使用されます。</p>

<h1 id="実装コード例">実装コード例</h1>

<p>_最新の<a href="https://github.com/Tealium/tealium-swift/tree/master/samples/ConsentManagerDemo">サンプルアプリ</a>_はGitHubをご覧ください。</p>

<h2 id="使用事例1-簡単なオプトイン">使用事例1：簡単なオプトイン</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift">    <span style="font-weight:bold">func</span> <span style="color:#900;font-weight:bold">setConsentStatusSimple</span>(<span style="font-weight:bold">_</span> consented: <span style="color:#999">Bool</span>) {
        <span style="font-weight:bold">let</span> <span style="color:#008080">status</span>: TealiumConsentStatus = consented ? .consented: .notConsented
        <span style="font-weight:bold">self</span>.tealium?.consentManager()?.setUserConsentStatus(status)
    }</code></pre></div>
<p>この例では、ユーザーに簡単な&rdquo;オプトイン/オプトアウト&rdquo;オプションを提供する方法を示しています。 ユーザーが同意する場合、そのユーザーは自動的にすべてのトラッキングカテゴリにオプトインします。 ユーザーが同意を取り消す場合、どのカテゴリもアクティブにならず、トラッキングコールは送信されません。</p>

<p>Tealiumのヘルパークラスで次のメソッドを定義し、アプリユーザーがトラッキングに同意したかトラッキングを拒否した場合に呼び出します。 ユーザーがトラッキングに同意する場合、Consent Managerによって自動的にすべてのトラッキングカテゴリにオプトインします。</p>

<p><img src="https://zjzhh79394.i.lithium.com/t5/image/serverpage/image-id/6590i5637771715807D9A/image-size/original?v=1.0&amp;px=-1" alt="簡単な同意" title="Simple Consent" /></p>

<h2 id="使用事例2-グループオプトイン">使用事例2：グループオプトイン</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="font-weight:bold">func</span> <span style="color:#900;font-weight:bold">updateConsentPreferences</span>(<span style="font-weight:bold">_</span> dict: [<span style="color:#999">String</span>: <span style="color:#999">Any</span>]) {
    <span style="font-weight:bold">if</span> <span style="font-weight:bold">let</span> <span style="color:#008080">status</span> = dict[<span style="color:#b84">&#34;consentStatus&#34;</span>] <span style="font-weight:bold">as</span>? <span style="color:#999">String</span> {
        <span style="font-weight:bold">var</span> <span style="color:#008080">tealiumConsentCategories</span> = [TealiumConsentCategories]()
        <span style="font-weight:bold">let</span> <span style="color:#008080">tealiumConsentStatus</span> = (status == <span style="color:#b84">&#34;consented&#34;</span>) ? TealiumConsentStatus.consented : TealiumConsentStatus.notConsented
        <span style="font-weight:bold">if</span> <span style="font-weight:bold">let</span> <span style="color:#008080">categories</span> = dict[<span style="color:#b84">&#34;consentCategories&#34;</span>] <span style="font-weight:bold">as</span>? [<span style="color:#999">String</span>] {
            tealiumConsentCategories = TealiumConsentCategories.consentCategoriesStringArrayToEnum(categories)
        }
        <span style="font-weight:bold">self</span>.tealium?.consentManager()?.setUserConsentStatusWithCategories(status: tealiumConsentStatus, categories: tealiumConsentCategories)
    }
}

<span style="color:#998;font-style:italic">// example function to define groups of categories, and set the consent preferences in the consentManager API. Should be called when the user saves their preferences</span>

<span style="font-weight:bold">func</span> <span style="color:#900;font-weight:bold">setUserConsentPreferences</span>(){
	<span style="color:#998;font-style:italic">// define a dictionary containing grouped categories</span>
	<span style="font-weight:bold">let</span> <span style="color:#008080">consentGroups</span> = [<span style="color:#b84">&#34;Off&#34;</span> : [],
	        <span style="color:#b84">&#34;Performance&#34;</span>: [<span style="color:#b84">&#34;analytics&#34;</span>, <span style="color:#b84">&#34;monitoring&#34;</span>, <span style="color:#b84">&#34;big_data&#34;</span>, <span style="color:#b84">&#34;mobile&#34;</span>, <span style="color:#b84">&#34;crm&#34;</span>],
	        <span style="color:#b84">&#34;Marketing&#34;</span>: [<span style="color:#b84">&#34;analytics&#34;</span>, <span style="color:#b84">&#34;monitoring&#34;</span>, <span style="color:#b84">&#34;big_data&#34;</span>, <span style="color:#b84">&#34;mobile&#34;</span>, <span style="color:#b84">&#34;crm&#34;</span>, <span style="color:#b84">&#34;affiliates&#34;</span>, <span style="color:#b84">&#34;email&#34;</span>, <span style="color:#b84">&#34;search&#34;</span>, <span style="color:#b84">&#34;engagement&#34;</span>, <span style="color:#b84">&#34;cdp&#34;</span>],
	        <span style="color:#b84">&#34;Personalized Advertising&#34;</span>: [<span style="color:#b84">&#34;analytics&#34;</span>, <span style="color:#b84">&#34;monitoring&#34;</span>, <span style="color:#b84">&#34;big_data&#34;</span>, <span style="color:#b84">&#34;mobile&#34;</span>, <span style="color:#b84">&#34;crm&#34;</span>, <span style="color:#b84">&#34;affiliates&#34;</span>, <span style="color:#b84">&#34;email&#34;</span>, <span style="color:#b84">&#34;search&#34;</span>, <span style="color:#b84">&#34;engagement&#34;</span>, <span style="color:#b84">&#34;cdp&#34;</span>, <span style="color:#b84">&#34;display_ads&#34;</span>, <span style="color:#b84">&#34;personalization&#34;</span>, <span style="color:#b84">&#34;social&#34;</span>, <span style="color:#b84">&#34;cookiematch&#34;</span>, <span style="color:#b84">&#34;misc&#34;</span>]]

	<span style="color:#998;font-style:italic">// this is the user&#39;s selected preferences level. Would usually be dynamic in a real app</span>
	<span style="font-weight:bold">let</span> <span style="color:#008080">userSelection</span> = <span style="color:#b84">&#34;Marketing&#34;</span>

	<span style="font-weight:bold">if</span> <span style="font-weight:bold">let</span> <span style="color:#008080">userList</span> = consentGroups[userSelection] {
	  <span style="font-weight:bold">let</span> <span style="color:#008080">settingsDict</span>: [<span style="color:#999">String</span>: <span style="color:#999">Any</span>] = [<span style="color:#b84">&#34;consentStatus&#34;</span>: <span style="color:#b84">&#34;consented&#34;</span>, <span style="color:#b84">&#34;consentCategories&#34;</span>: userList]

	  updateConsentPreferences(settingsDict)
	}
}</code></pre></div>
<p>この例では、カテゴリベースの同意モデルを示しています。ここでは、トラッキングカテゴリは、開発者が定義した少数の上位カテゴリにグループ化されます。 たとえば、Tealiumの同意カテゴリ&rdquo;big_data&rdquo;、&rdquo;analytics&rdquo;、&rdquo;monitoring&rdquo;を&rdquo;performance&rdquo;という1つのカテゴリにグループ化することができます。 このようにすると、ユーザーにとって、カテゴリの包括リストから選択するよりも簡単になる可能性があります。 これを、最小限の許可から最大限の許可まで（すべてのカテゴリ）のスライダーインターフェイスで表すこともできます。</p>

<p><img src="https://zjzhh79394.i.lithium.com/t5/image/serverpage/image-id/6589iADA6E801B2A3EC85/image-size/original?v=1.0&amp;px=-1" alt="grouped-gif.gif" title="grouped-gif.gif" /></p>

<h2 id="使用事例3-カテゴリベースのオプトイン">使用事例3：カテゴリベースのオプトイン</h2>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#998;font-style:italic">// helper method to call Tealium consentManager API</span>
<span style="font-weight:bold">func</span> <span style="color:#900;font-weight:bold">updateConsentPreferences</span>(<span style="font-weight:bold">_</span> dict: [<span style="color:#999">String</span>: <span style="color:#999">Any</span>]) {
    <span style="font-weight:bold">if</span> <span style="font-weight:bold">let</span> <span style="color:#008080">status</span> = dict[<span style="color:#b84">&#34;consentStatus&#34;</span>] <span style="font-weight:bold">as</span>? <span style="color:#999">String</span> {
        <span style="font-weight:bold">var</span> <span style="color:#008080">tealiumConsentCategories</span> = [TealiumConsentCategories]()
        <span style="font-weight:bold">let</span> <span style="color:#008080">tealiumConsentStatus</span> = (status == <span style="color:#b84">&#34;consented&#34;</span>) ? TealiumConsentStatus.consented : TealiumConsentStatus.notConsented
        <span style="font-weight:bold">if</span> <span style="font-weight:bold">let</span> <span style="color:#008080">categories</span> = dict[<span style="color:#b84">&#34;consentCategories&#34;</span>] <span style="font-weight:bold">as</span>? [<span style="color:#999">String</span>] {
            tealiumConsentCategories = TealiumConsentCategories.consentCategoriesStringArrayToEnum(categories)
        }
        <span style="font-weight:bold">self</span>.tealium?.consentManager()?.setUserConsentStatusWithCategories(status: tealiumConsentStatus, categories: tealiumConsentCategories)
    }
}

<span style="color:#998;font-style:italic">// example function to take a list of categories and pass to the Tealium consentManager API</span>

<span style="font-weight:bold">func</span> <span style="color:#900;font-weight:bold">setUserConsentPreferences</span>(<span style="font-weight:bold">_</span> categories: [<span style="color:#999">String</span>]){

	<span style="font-weight:bold">let</span> <span style="color:#008080">settingsDict</span>: [<span style="color:#999">String</span>: <span style="color:#999">Any</span>] = [<span style="color:#b84">&#34;consentStatus&#34;</span>: <span style="color:#b84">&#34;consented&#34;</span>, <span style="color:#b84">&#34;consentCategories&#34;</span>: categories]
	updateConsentPreferences(settingsDict)
}</code></pre></div>
<p>この例では、カテゴリベースの同意モデルを示しています。ここでは、ユーザーはカテゴリの包括的なリストから、明示的に各カテゴリを選択する必要があります。 デフォルトの状態は&rdquo;Unknown&rdquo;です。これは、ユーザーが同意を提示するまで、ヒットをキューに追加します。 ユーザーがなんらかのカテゴリに同意した場合、イベントはキューから取り出され、同意したカテゴリデータが各トラッキングコールに追加されます。</p>

<p><a href="images/individual-gif.gif"><img src="https://zjzhh79394.i.lithium.com/t5/image/serverpage/image-id/6588iDEE8A2B2B83CB4B7/image-size/original?v=1.0&amp;px=-1" alt="カテゴリベース" title="Category-based" /></a></p>

<h2 id="ビデオ">ビデオ</h2>

<p>実装例については<a href="https://youtu.be/68rF6Qo5DOw">こちらのビデオ</a>をご覧ください。</p>

<h2 id="今後の改善">今後の改善</h2>

<ul>
<li>Tealium iQを通じたリモート構成オプション</li>
</ul>

<h2 id="変更履歴">変更履歴</h2>

<p>1.7.0</p>

<ul>
<li>同意の記録が有効な場合、&rdquo;decline_consent&rdquo;イベントが監査の目的で送信されます（GDPRコンプライアンス）。</li>
</ul>

<p>ビルド1</p>

<ul>
<li>最初のリリース</li>
</ul>

</div>

          


        </div>
      </div>
      <div class="order-0 w-20 dn db-l pl3 sticky-l">
        
<nav class="side-nav f6" role="navigation">
  <ul class="list pa0 nl2">
    
      
      
      <li class="w-100 hover-accent-color-light fw8 mb1 bb b--moon-gray">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".remote-commands">Remote Commands</a>
        <ul class="remote-commands desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/remote-commands/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/remote-commands/how-it-works/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              仕組み
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/remote-commands/integrations/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              Integrations
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".amp">AMP</a>
        <ul class="amp desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/amp/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/amp/install/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              インストール
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/amp/data-layer-variables/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              データレイヤー
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".android">Android</a>
        <ul class="android desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/android/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/android/install/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              インストール
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/android/consent-manager/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              Consent Manager
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/android/data-layer-variables/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              データレイヤー
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/android/adid-module/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              モジュール：Ad Identifier
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/android/crash-reporter-module/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              モジュール：Crash Reporter
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/android/lifecycle-tracking-module/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              モジュール：ライフサイクルトラッキング
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/android/release-notes/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              リリースノート
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/android/optimizely-x-tracking-module/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              モジュール：Optimizely X Tracking
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/android/referrer-module/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              モジュール：Install Referrer
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".android-tv">Android TV</a>
        <ul class="android-tv desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/android-tv/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/android-tv/install/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              インストール
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".android-wear">Android Wear</a>
        <ul class="android-wear desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/android-wear/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/android-wear/install/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              インストール
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".angular">Angular</a>
        <ul class="angular desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/angular/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/angular/install/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              インストール
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".csharp">C#</a>
        <ul class="csharp desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/csharp/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/csharp/install/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              インストール
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/csharp/functions/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              関数の定義
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/csharp/release-notes/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              リリースノート
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".cordova">Cordova</a>
        <ul class="cordova desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/cordova/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/cordova/install/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              インストール
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/cordova/track/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              トラッキング
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/cordova/functions/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              関数の定義
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/cordova/module-adid/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              モジュール：Ad Identifier
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/cordova/module-crash-reporter/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              モジュール：Crash Reporter
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/cordova/module-install-referrer/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              モジュール：Install Referrer
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".flutter">Flutter</a>
        <ul class="flutter desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/flutter/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/flutter/install/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              インストール
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/flutter/release-notes/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              リリースノート
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".http-api">HTTP API</a>
        <ul class="http-api desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/http-api/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/http-api/endpoint-spec/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              エンドポイント
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".ios">iOS</a>
        <ul class="ios desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/ios/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/ios/install/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              インストール
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/ios/consent-manager/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              Consent Manager
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/ios/data-layer-variables/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              データレイヤー
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/ios/tag-management/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              タグ管理
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/ios/lifecycle-tracking-module/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              モジュール：ライフサイクルトラッキング
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/ios/optimizely-x-tracking-module/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              モジュール：Optimizely X Tracking
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/ios/migrate-from-4x/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              4.xからの移行
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/ios/release-notes/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              リリースノート
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".java">Java</a>
        <ul class="java desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/java/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/java/install/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              インストール
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/java/function-definitions/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              関数の定義
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".javascript">JavaScript (Web)</a>
        <ul class="javascript desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/javascript/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/javascript/install/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              インストール
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/javascript/page-tracking/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              ページトラッキング
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/javascript/event-tracking/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              イベントトラッキング
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/javascript/validate/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              検証
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/javascript/settings/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              設定
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/javascript/about-utag-js/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              utag.jsについて
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/javascript/about-utag-data/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              utag_dataについて
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/javascript/the-b-object/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              bオブジェクト
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/javascript/debugging/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              デバッグ
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/javascript/built-in-variables/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              ビルトイン変数
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/javascript/release-notes/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              リリースノート
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".node">Node</a>
        <ul class="node desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/node/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/node/install/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              インストール
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".python">Python</a>
        <ul class="python desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/python/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/python/install/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              インストール
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".react-native">React Native</a>
        <ul class="react-native desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/react-native/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/react-native/install/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              インストール
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/react-native/functions/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              関数の定義
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".roku">Roku</a>
        <ul class="roku desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/roku/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/roku/install/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              インストール
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/roku/functions/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              関数の定義
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".ruby">Ruby</a>
        <ul class="ruby desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/ruby/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/ruby/install/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              インストール
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8 active">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2  primary-color" data-target=".swift">Swift</a>
        <ul class="swift desktopmenu animated fadeIn list pl0 db">
          <li class="fw4">
            
            
            <a href="/platforms/swift/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/swift/install/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              インストール
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/swift/track/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              トラッキング
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/swift/consent-manager/" class="db link pl3 pr2 pv1 bg-secondary white">
              Consent Manager
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/swift/class-definitions/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              クラスの定義
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/swift/modules/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              モジュール
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/swift/data-layer/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              データレイヤー
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/swift/release-notes/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              リリースノート
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/swift/module-list/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              モジュールのリスト
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/swift/with-objective-c/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              Objective-Cとの連携
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/swift/feature-comparison/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              機能比較
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".tvos">tvOS</a>
        <ul class="tvos desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/tvos/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/tvos/install/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              インストール
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".watchos">watchOS</a>
        <ul class="watchos desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/watchos/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/watchos/install/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              インストール
            </a>
          </li>
        </ul>
      </li>
      
      
      <li class="w-100 hover-accent-color-light fw8">
        <a href="javascript:void(0)" class="js-toggle dib w-100 link mid-gray hover-accent-color-light pl2 pr2 pv2 " data-target=".xamarin">Xamarin</a>
        <ul class="xamarin desktopmenu animated fadeIn list pl0 dn">
          <li class="fw4">
            
            
            <a href="/platforms/xamarin/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              概要
            </a>
          </li>
          <li class="fw4">
            
            
            <a href="/platforms/xamarin/install/" class="db link pl3 pr2 pv1 primary-color hover-bg-primary ">
              インストール
            </a>
          </li>
        </ul>
      </li>
  </ul>
</nav>

      </div>

    </div>
  </article>

  <div class="w-100 bg-light-gray">
    <div class="mw7 pa2 ph0 ph6-ns center nested-lh-copy lh-copy">
      <div class="feedback_form">
  <span>
	  <p style="display:inline">このページはお役にたちましたでしょうか？</p>
		<button enabled id="feedback_yes" class="f6 ph3 pv1 br2 dib tc ttu mv3 bg-primary-color white hover-bg-green link">はい</button>
	  <button enabled id="feedback_no" class="f6 ph3 pv1 br2 dib tc ttu mv3 bg-primary-color white hover-bg-green link">いいえ</button>
  </span>
	<span id="feedback_comment">
		<textarea id="feedback_textarea" type="text" placeholder="JA-Tell us how we can make this article better." rows="4" cols="70"></textarea>
		<button disabled id="feedback_submit" class="f6 ph3 pv1 br2 dib tc ttu mv3 bg-primary-color white hover-bg-blue link">フィードバックを送信</button>
  </span>
  <span id="feedback_thank_you" style="display: none;">
     <em>JA-Thank you for your feedback!</em>
  </span>
</div>
<p>最終更新日 ::  2019年October月28日</p>

      


    </div>
  </div>

    </main>

    <footer class="bg-primary-color-dark ph1-ns relative w-100" role="contentinfo">
    <div class="center flex-ns flex-wrap justify-between mw9 w-90">
    </div>

    <div class="bg-primary-color-dark bottom-0 left-0 right-0 dn-l fixed pb3 ph3 w-100"><div  class="globalmenu mobilemenu dn pl5">
    

<ul class="list hidden dib ph0 ma0 scrolling-touch tc">
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/" class="ttu f6 link primary-color-light overflow hover-white db brand-font ma0 w-100 pv3 ph4">
          プラットフォーム
        </a>
    </li>
  
</ul>

</div>
<div  class="docsmenu mobilemenu dn pl5">
    

<ul class="list dib ph0 ma0 scrolling-touch tc">
  
    <li  class="tl dib ma0 hover-bg-primary w-100 mb2 bb b--mid-gray">
        <a href="http://docs-preview.tealium.co.jp/platforms/remote-commands/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          Remote Commands
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/amp/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          AMP
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/android/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          Android
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/android-tv/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          Android TV
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/android-wear/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          Android Wear
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/angular/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          Angular
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/csharp/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          C#
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/cordova/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          Cordova
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/flutter/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          Flutter
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/http-api/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          HTTP API
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/ios/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          iOS
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/java/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          Java
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/javascript/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          JavaScript (Web)
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/node/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          Node
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/python/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          Python
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/react-native/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          React Native
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/roku/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          Roku
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/ruby/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          Ruby
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/swift/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          Swift
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/tvos/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          tvOS
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/watchos/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          watchOS
        </a>
    </li>
  
    <li  class="tl dib ma0 hover-bg-primary w-100">
        <a href="http://docs-preview.tealium.co.jp/platforms/xamarin/" class="ttu f6 link primary-color-light  hover-white db brand-font ma0 w-100 pv2 ph4">
          Xamarin
        </a>
    </li>
  
</ul>

</div>

<div class="flex dn-l justify-between pl5">
  <button class="js-toggle flex-auto dib dn-l f6 tc db mt3 ph3 pv2 link mr2 white bg-primary-color-dark hover-bg-primary-color ba b--white-40 w-auto" data-target=".globalmenu">Menu</button>

  <button class="js-toggle flex-auto dib dn-l f6 tc db mt3 ph3 pv2 link white bg-primary-color-dark hover-bg-primary-color ba b--white-40 w-auto" data-target=".docsmenu">Platforms</button>
</div>
</div>
</footer>

    <script src="/dist/js/app.js"></script>

<script async defer src="https://buttons.github.io/buttons.js"></script>
<script src="https://use.fontawesome.com/0757c63fa2.js"></script>


    
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
docsearch({
  apiKey: '6784c7975bfcd2a1e2f86d3388d655b4',
  indexName: 'tealium_jp',
  inputSelector: 'input#search-input',
  debug: "true" 
});
</script>

    

  </body>
</html>
